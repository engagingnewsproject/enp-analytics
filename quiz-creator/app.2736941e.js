(function(t){function e(e){for(var i,r,o=e[0],l=e[1],u=e[2],d=0,v=[];d<o.length;d++)r=o[d],a[r]&&v.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(v.length)v.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var i={},a={1:0},n=[];function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=i,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;n.push([20,0]),s()})({"+PJ+":function(t,e,s){},"1L+U":function(t,e,s){},20:function(t,e,s){t.exports=s("Vtdi")},"225j":function(t,e,s){"use strict";var i=s("qIjp"),a=s.n(i);a.a},"2woQ":function(t,e,s){},"6MJO":function(t,e,s){"use strict";var i=s("x5vo"),a=s.n(i);a.a},"6oSx":function(t,e,s){"use strict";var i=s("l5UX"),a=s.n(i);a.a},"7Ncn":function(t,e,s){},"7SwN":function(t,e,s){"use strict";var i=s("cF5r"),a=s.n(i);a.a},"B/QQ":function(t,e,s){"use strict";var i=s("n8Hk"),a=s.n(i);a.a},BmDN:function(t,e,s){},ClJC:function(t,e,s){},EJcy:function(t,e,s){"use strict";var i=s("OKWT"),a=s.n(i);a.a},"FTo+":function(t,e,s){"use strict";var i=s("Osgf"),a=s.n(i);a.a},GzhW:function(t,e,s){},K7ku:function(t,e,s){"use strict";var i=s("BmDN"),a=s.n(i);a.a},NCcM:function(t,e,s){"use strict";var i=s("QIE6"),a=s.n(i);a.a},OKWT:function(t,e,s){},Osgf:function(t,e,s){},PUMA:function(t,e,s){"use strict";var i=s("1L+U"),a=s.n(i);a.a},QIE6:function(t,e,s){},SFlZ:function(t,e,s){"use strict";var i=s("2woQ"),a=s.n(i);a.a},UQfq:function(t,e,s){},Vn91:function(t,e,s){"use strict";var i=s("7Ncn"),a=s.n(i);a.a},Vtdi:function(t,e,s){"use strict";s.r(e);s("VRzm");var i=s("Kw5r"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app",class:{"app--error":t.error,"app--loading":t.loading},attrs:{id:"app"}},[s("header",{staticClass:"container"},[s("h1",{staticClass:"app__title"},[t._v("Quiz Creator Data")]),s("nav",[s("router-link",{attrs:{to:"/"}},[t._v("Home")]),s("router-link",{attrs:{to:"/domains"}},[t._v("Domains")]),s("router-link",{attrs:{to:"/sites"}},[t._v("Sites")]),s("router-link",{attrs:{to:"/quizzes"}},[t._v("Quizzes")]),s("router-link",{attrs:{to:"/embeds"}},[t._v("Embeds")])],1)]),s("div",{staticClass:"visually-hidden",staticStyle:{position:"absolute",width:"0",height:"0"}},[s("svg",{staticStyle:{display:"none"}},[s("symbol",{attrs:{id:"icon-up",width:"24",height:"24",viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}}),s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})]),s("symbol",{attrs:{id:"icon-down",width:"24px",height:"24px",viewBox:"0 0 24 24","enable-background":"new 0 0 24 24","xml:space":"preserve"}},[s("path",{attrs:{d:"M7.41,8.59L12,13.17l4.59-4.58L18,10l-6,6l-6-6L7.41,8.59z"}}),s("path",{attrs:{fill:"none",d:"M0,0h24v24H0V0z"}})])])]),t.error?s("main",{staticClass:"main container"},[s("p",[t._v("Error")])]):t._e(),s("main",{staticClass:"main container"},[0==t.loading?s("router-view"):t.loading?s("Loader"):t._e()],1)])},n=[],r=s("yT7P"),o=s("L2JU"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loader"},[s("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[s("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-miterlimit":"10"}})])])},u=[],c={name:"Loader",props:{}},d=c,v=(s("gpZ9"),s("KHd+")),f=Object(v["a"])(d,l,u,!1,null,"e9e9d07a",null),m=f.exports,h={components:{Loader:m},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){if(0==this.domains.length)return this.$store.dispatch("fetchAllData");console.log("already have data")}},computed:Object(r["a"])({},Object(o["b"])(["domains","loading","error"]))},p=h,_=(s("nNx0"),Object(v["a"])(p,a,n,!1,null,null,null)),g=_.exports,z=s("jE9Z"),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("div",{staticClass:"home-view"},[s("Overview",{attrs:{sites:t.sites,embeds:t.embeds,quizzes:t.quizzes,loading:t.loading}})],1):t.loading?s("Loader"):t._e()},y=[],D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view overview--view"},[s("table",[s("tbody",[s("tr",[s("th",[t._v("Sites (Non-Dev)")]),s("td",[t._v(t._s(t.nonDevSites.length))])]),s("tr",[s("th",[t._v("Embeds")]),s("td",[t._v(t._s(t.embeds.length))])])])]),t.quizzes.length>0?s("QuizTotals",{attrs:{quizzes:t.quizzes}}):t._e(),s("h3",[t._v("Responses")]),s("table",[s("tbody",[s("tr",[s("th",[t._v("Total Responses")]),s("td",[t._v(t._s(t.totals.responses.total))])]),s("tr",[s("th",[t._v("Correct Responses")]),s("td",[t._v(t._s(t.totals.responses.correct)+" | "+t._s(t.totals.responses.correctPercentage)+"%")])]),s("tr",[s("th",[t._v("Incorrect Responses")]),s("td",[t._v(t._s(t.totals.responses.incorrect)+" | "+t._s(t.totals.responses.incorrectPercentage)+"%")])])])])],1)},q=[],w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"quiz"},[s("h3",[t._v("Quiz Totals")]),s("table",[s("tbody",[t.quizzes.length-t.publishedQuizzes.length?s("tr",[s("th",[t._v("Quizzes")]),s("td",[t._v(t._s(t.quizzes.length))])]):t._e(),t.publishedQuizzes.length?s("tr",[s("th",[t._v("Published Quizzes")]),s("td",[t._v(t._s(t.publishedQuizzes.length))])]):t._e(),t.quizzes.length-t.publishedQuizzes.length?s("tr",[s("th",[t._v("Draft Quizzes")]),s("td",[t._v(t._s(t.quizzes.length-t.publishedQuizzes.length))])]):t._e(),s("tr",[s("th",[t._v("Total Views")]),s("td",[t._v(t._s(t.quizTotal("views")))])]),s("tr",[s("th",[t._v("Total Starts")]),s("td",[t._v(t._s(t.quizTotal("starts"))+" | "+t._s(t.quizPercentage("starts"))+"%")])]),s("tr",[s("th",[t._v("Total Finishes")]),s("td",[t._v(t._s(t.quizTotal("finishes"))+" | "+t._s(t.quizPercentage("finishes"))+"%")])])])])])},I=[],k=(s("f3/d"),{name:"QuizTotals",props:{quizzes:Array},methods:{quizTotal:function(t){for(var e=0,s=0;s<this.quizzes.length;s++)e+=this.quizzes[s][t];return e},quizPercentage:function(t){return+(this.quizTotal(t)/this.quizTotal("views")*100).toFixed(2)}},computed:{publishedQuizzes:function(){return console.log("quizzes filter",this.quizzes),this.quizzes.filter(function(t){return"published"===t.status})}}}),S=k,A=(s("NCcM"),Object(v["a"])(S,w,I,!1,null,"6af2282b",null)),C=A.exports,x={name:"home",props:{sites:Array,quizzes:Array,embeds:Array},components:{QuizTotals:C},computed:Object(r["a"])({},Object(o["b"])(["nonDevSites","publishedQuizzes","totals"]))},Q=x,E=(s("6oSx"),Object(v["a"])(Q,D,q,!1,null,"79dc9f88",null)),P=E.exports,O={name:"home",components:{Overview:P,Loader:m},data:function(){return{loading:!0}},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;if(0==this.sites.length)return this.loading=!0,console.log("fetching data"),this.$store.dispatch("fetchAllData").then(function(){return t.loading=!1});console.log("already have data"),this.loading=!1}},computed:Object(r["a"])({},Object(o["b"])(["error","sites","quizzes","nonDevSites","embeds"]))},j=O,$=(s("SFlZ"),Object(v["a"])(j,b,y,!1,null,"35a8e6fe",null)),B=$.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view view--domains"},[s("p",{staticClass:"hint"},[t._v('Domains are counted as one per "domain" or "root url." For example, https://www.nytimes.com and https://nytimes.com would count as one domain (nytimes.com) and two sites. No Dev sites are included here.')]),s("div",{staticClass:"filter"},[s("form",{staticClass:"filters"},[s("div",{staticClass:"top-filters"},[s("label",[t._v("Search Domains"),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.search.val,expression:"filters.search.val"}],staticClass:"filter__input",attrs:{type:"text"},domProps:{value:t.filters.search.val},on:{input:function(e){e.target.composing||t.$set(t.filters.search,"val",e.target.value)}}})]),s("span",[s("button",{staticClass:"btn show-filters",on:{click:function(e){return e.preventDefault(),t.toggleFilters(e)}}},[t._v(t._s(t.showFilters?"Hide":"Show")+" Filters")])])]),t.showFilters?s("div",{staticClass:"extra-filters"},[s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.quizzes.val,expression:"filters.keys.quizzes.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.quizzes.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.quizzes,"val",e.target.value)}}}),t._v(" Quizzes\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.views.val,expression:"filters.keys.views.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.views.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.views,"val",e.target.value)}}}),t._v(" Views\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.embeds.val,expression:"filters.keys.embeds.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.embeds.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.embeds,"val",e.target.value)}}}),t._v(" Embeds\n        ")]),s("label",[t._v("Added \n          "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.operator,expression:"filters.keys.createdAt.operator"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.createdAt,"operator",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"<="}},[t._v("After")]),s("option",{attrs:{value:">="}},[t._v("Before")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.val,expression:"filters.keys.createdAt.val"}],staticClass:"filter__input filter__input--date",attrs:{type:"date"},domProps:{value:t.filters.keys.createdAt.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.createdAt,"val",e.target.value)}}})])]):t._e()])]),t.filteredDomains.length>0?s("section",{staticClass:"domains"},[s("DomainTotals",{attrs:{domains:t.filteredDomains}}),s("DomainPreview",{attrs:{domains:t.filteredDomains,embeds:t.embeds,quizzes:t.quizzes,loading:t.loading}})],1):s("section",{staticClass:"no-domains"},[t._v('\n    No domains found for search "'+t._s(t.filters.search.val)+'" with these filters.\n  ')])])},F=[],N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("div",{staticClass:"domains"},[s("h3",[t._v("Domains")]),s("p",[t._v(t._s(t.domains.length)+" Found")]),s("table",{staticClass:"domains__table"},[s("thead",[s("th",[t._v("ID\n        "),s("Sort",{attrs:{sortBy:"ID",type:"domains"}})],1),s("th",[t._v("Name\n        "),s("Sort",{attrs:{sortBy:"name",type:"domains"}})],1),s("th",[t._v("Views\n        "),s("Sort",{attrs:{sortBy:"views",type:"domains"}})],1),s("th",[t._v("Sites\n        "),s("Sort",{attrs:{sortBy:"sites",type:"domains"}})],1),s("th",[t._v("Embeds\n        "),s("Sort",{attrs:{sortBy:"embeds",type:"domains"}})],1),s("th",[s("Sort",{attrs:{sortBy:"quizzes",type:"domains"}}),t._v("Quizzes")],1),s("th",[t._v("Date Added\n        "),s("Sort",{attrs:{sortBy:"createdAt",type:"domains"}})],1)]),s("tbody",t._l(t.domains,function(e){return s("tr",{key:e.ID,attrs:{domain:e}},[s("td",[s("router-link",{attrs:{to:{name:"domain",params:{domainID:e.ID}}}},[t._v(t._s(e.ID))])],1),s("td",[s("a",{staticClass:"domain__link",attrs:{href:e.url}},[t._v(t._s(e.name))])]),s("td",[t._v(t._s(e.views))]),s("td",[t._v(t._s(e.sites))]),s("td",[t._v(t._s(e.embeds))]),s("td",[t._v(t._s(e.quizzes))]),s("td",[t._v(t._s(e.createdAt))])])}))])]):t.loading?s("Loader"):t._e()},L=[],U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"order-wrap"},[s("button",{staticClass:"btn--icon up",on:{click:function(e){t.sort("asc")}}},[s("svg",{staticClass:"icon-up"},[s("use",{attrs:{"xlink:href":"#icon-up"}})])]),s("button",{staticClass:"btn--icon down",on:{click:function(e){t.sort("desc")}}},[s("svg",{staticClass:"icon-down"},[s("use",{attrs:{"xlink:href":"#icon-down"}})])])])},V=[],M={name:"home",props:{type:String,sortBy:String},methods:{sort:function(t){this.$store.dispatch("sort",{type:this.type,sortBy:this.sortBy,order:t})}}},H=M,J=(s("225j"),Object(v["a"])(H,U,V,!1,null,"a2802f08",null)),K=J.exports,R={name:"DomainPreview",props:{domains:Array,quizzes:Array,embeds:Array,loading:Boolean},components:{Loader:m,Sort:K}},W=R,Y=(s("EJcy"),Object(v["a"])(W,N,L,!1,null,"dbab610c",null)),Z=Y.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"site-totals"},[s("h3",[t._v("Domain Totals")]),s("table",[s("tbody",[s("tr",[s("th",[t._v("Production Domains")]),s("td",[t._v(t._s(t.domains.length))])]),s("tr",[s("th",[t._v("Embeds")]),s("td",[t._v(t._s(t.embedsTotal))])]),s("tr",[s("th",[t._v("Quizzes")]),s("td",[t._v(t._s(t.quizTotal))])]),s("tr",[s("th",[t._v("Unique Quizzes")]),s("td",[t._v(t._s(t.uniqueQuizTotal))])])])])])},X=[],tt=(s("Z2Ku"),{name:"DomainTotals",props:{domains:Array,title:String},methods:{},computed:{embedsTotal:function(){for(var t=0,e=0;e<this.domains.length;e++)t+=this.domains[e].embeds;return t},quizTotal:function(){for(var t=0,e=0;e<this.domains.length;e++)t+=this.domains[e].quizzes;return t},uniqueQuizTotal:function(){for(var t,e=[],s=0;s<this.domains.length;s++)for(var i=0;i<this.domains[s].quizIDs.length;i++)t=this.domains[s].quizIDs[i],e.includes(t)||e.push(t);return e.length}}}),et=tt,st=(s("pUEu"),Object(v["a"])(et,G,X,!1,null,"3f14f00e",null)),it=st.exports,at={name:"domains",data:function(){return{loading:Boolean,showFilters:!1,filters:{search:{val:"",keys:["url","name"]},keys:{quizzes:{val:0,operator:"<=",type:"morethan"},views:{val:0,operator:"<=",type:"morethan"},embeds:{val:0,operator:"<=",type:"morethan"},createdAt:{val:"2016-01-01",operator:"<=",type:"dateafter"}}}}},components:{DomainPreview:Z,DomainTotals:it},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{toggleFilters:function(){this.showFilters=!this.showFilters},fetchData:function(){var t=this;if(0==this.domains.length)return this.loading=!0,console.log("fetching data"),this.$store.dispatch("fetchAllData").then(function(){return t.loading=!1});console.log("already have data"),this.loading=!1}},computed:Object(r["a"])({filteredDomains:function(){return this.filter(this.domains,this.filters)}},Object(o["b"])(["error","domains","sites","quizzes","nonDevSites","embeds","server","filter"]))},nt=at,rt=(s("X0gH"),Object(v["a"])(nt,T,F,!1,null,"70ba1974",null)),ot=rt.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("div",{staticClass:"view view--site-info"},[s("DomainInfo",{attrs:{domain:t.getDomain(t.domainID)}}),s("SiteTotals",{attrs:{sites:t.getDomainSites(t.domainID)}}),s("EmbedTotals",{attrs:{embeds:t.getDomainEmbeds(t.domainID)}}),s("QuizTotals",{attrs:{quizzes:t.getDomainQuizzes(t.domainID)}}),s("SitePreview",{attrs:{sites:t.getDomainSites(t.domainID)}}),s("QuizPreview",{attrs:{quizzes:t.getDomainQuizzes(t.domainID)}}),s("EmbedPreview",{attrs:{embeds:t.getDomainEmbeds(t.domainID)}})],1):t.loading?s("Loader"):t._e()},ut=[],ct=(s("xfY5"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"domain-info"},[s("h2",{staticClass:"domain__title"},[s("a",{attrs:{href:t.domain.url}},[t._v(t._s(t.domain.name))])]),s("table",[s("tbody",[s("tr",[s("th",[t._v("Views")]),s("td",[t._v(t._s(t.domain.views))])]),s("tr",[s("th",[t._v("Sites")]),s("td",[t._v(t._s(t.domain.sites))])]),s("tr",[s("th",[t._v("Quizzes")]),s("td",[t._v(t._s(t.domain.quizzes))])]),s("tr",[s("th",[t._v("Embeds")]),s("td",[t._v(t._s(t.domain.embeds))])])])])])}),dt=[],vt={name:"SiteInfo",props:{domain:Object},created:function(){},methods:{}},ft=vt,mt=(s("jsMF"),Object(v["a"])(ft,ct,dt,!1,null,"2abca418",null)),ht=mt.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("div",{staticClass:"embeds"},[s("h3",[t._v("Embeds")]),s("p",[t._v(t._s(t.embeds.length)+" Found")]),s("table",{staticClass:"embeds__table"},[s("thead",[s("th",[t._v("ID\n        "),s("Sort",{attrs:{sortBy:"ID",type:"embeds"}})],1),s("th",[t._v("URL\n        "),s("Sort",{attrs:{sortBy:"url",type:"embeds"}})],1),s("th",[t._v("Views\n        "),s("Sort",{attrs:{sortBy:"views",type:"embeds"}})],1),s("th",[t._v("Site ID\n        "),s("Sort",{attrs:{sortBy:"siteID",type:"embeds"}})],1),s("th",[t._v("Quiz ID\n        "),s("Sort",{attrs:{sortBy:"quizID",type:"embeds"}})],1),s("th",[t._v("Created\n        "),s("Sort",{attrs:{sortBy:"createdAt",type:"embeds"}})],1),s("th",[t._v("Updated\n        "),s("Sort",{attrs:{sortBy:"updatedAt",type:"embeds"}})],1),s("th",[t._v("Is Dev\n        "),s("Sort",{attrs:{sortBy:"isDev",type:"embeds"}})],1)]),s("tbody",t._l(t.embeds,function(e){return s("tr",{key:e.id,attrs:{embed:e}},[s("td",[t._v(t._s(e.ID))]),s("td",[s("a",{staticClass:"embed__link",attrs:{href:e.url}},[t._v(t._s(e.url))])]),s("td",[t._v(t._s(e.views))]),s("td",[s("router-link",{attrs:{to:{name:"site",params:{siteID:e.siteID}}}},[t._v(t._s(e.siteID))])],1),s("td",[s("router-link",{attrs:{to:{name:"quiz",params:{quizID:e.quizID}}}},[t._v(t._s(e.quizID))])],1),s("td",[t._v(t._s(e.createdAt))]),s("td",[t._v(t._s(e.updatedAt))]),s("td",[t._v(t._s(e.isDev))])])}))])]):t.loading?s("Loader"):t._e()},_t=[],gt={name:"EmbedPreview",props:{embeds:Array,loading:Boolean},components:{Loader:m,Sort:K}},zt=gt,bt=(s("us2Y"),Object(v["a"])(zt,pt,_t,!1,null,"43c8dec2",null)),yt=bt.exports,Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"embed-totals"},[s("h3",[t._v("Embed Totals")]),s("table",[s("tbody",[s("tr",[s("th",[t._v("Production Embeds")]),s("td",[t._v(t._s(t.nonDevEmbeds.length))])]),t.embeds.length-t.nonDevEmbeds.length?s("tr",[s("th",[t._v("Dev Embeds")]),s("td",[t._v(t._s(t.embeds.length-t.nonDevEmbeds.length))])]):t._e(),s("tr",[s("th",[t._v("Unique Quizzes")]),s("td",[t._v(t._s(t.uniqueQuizTotal))])])])])])},qt=[],wt={name:"EmbedTotals",props:{embeds:Array,title:String},methods:{},computed:{nonDevEmbeds:function(){return this.embeds.filter(function(t){return 0==t.isDev})},embedsTotal:function(){for(var t=0,e=0;e<this.embeds.length;e++)t+=this.embeds[e].embeds.length;return t},uniqueQuizTotal:function(){for(var t,e=[],s=0;s<this.embeds.length;s++)t=this.embeds[s].quizID,e.includes(t)||e.push(t);return e.length}}},It=wt,kt=(s("rdtp"),Object(v["a"])(It,Dt,qt,!1,null,"29001887",null)),St=kt.exports,At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"quiz"},[s("h3",[t._v("Quizzes")]),s("p",[t._v(t._s(t.quizzes.length)+" Found")]),s("table",{staticClass:"quizzes__table"},[s("thead",[s("th",[t._v("ID\n        "),s("Sort",{attrs:{sortBy:"ID",type:"quizzes"}})],1),s("th",[t._v("Title\n        "),s("Sort",{attrs:{sortBy:"title",type:"quizzes"}})],1),s("th",[t._v("Status\n        "),s("Sort",{attrs:{sortBy:"status",type:"quizzes"}})],1),s("th",[t._v("Questions\n        "),s("Sort",{attrs:{sortBy:"questions",type:"quizzes"}})],1),s("th",[t._v("Views \n          "),s("Sort",{attrs:{sortBy:"views",type:"quizzes"}})],1),s("th",[t._v("Starts\n        "),s("Sort",{attrs:{sortBy:"starts",type:"quizzes"}})],1),s("th",[t._v("Start %\n        "),s("Sort",{attrs:{sortBy:"startPercentage",type:"quizzes"}})],1),s("th",[t._v("Finishes\n        "),s("Sort",{attrs:{sortBy:"finishes",type:"quizzes"}})],1),s("th",[t._v("Finish %\n          "),s("Sort",{attrs:{sortBy:"finishPercentage",type:"quizzes"}})],1),s("th",[t._v("Date Added\n        "),s("Sort",{attrs:{sortBy:"createdAt",type:"quizzes"}})],1)]),s("tbody",t._l(t.quizzes,function(e){return s("tr",{key:e.id,attrs:{quiz:e}},[s("td",[s("router-link",{attrs:{to:{name:"quiz",params:{quizID:e.ID}}}},[t._v(t._s(e.ID))])],1),s("td",[s("a",{staticClass:"quiz__link",attrs:{href:"https://mediaengagement.org/quiz-embed/"+e.ID}},[t._v(t._s(e.title))])]),s("td",[t._v(t._s(e.status))]),s("td",[t._v(t._s(e.questions))]),s("td",[t._v(t._s(e.views))]),s("td",[t._v(t._s(e.starts))]),s("td",[t._v(t._s(e.startPercentage)+"%")]),s("td",[t._v(t._s(e.finishes))]),s("td",[t._v(t._s(e.finishPercentage)+"%")]),s("td",[t._v(t._s(e.createdAt))])])}))])])},Ct=[],xt={name:"QuizData",components:{Sort:K},props:{quizzes:Array}},Qt=xt,Et=(s("B/QQ"),Object(v["a"])(Qt,At,Ct,!1,null,"10e79dbd",null)),Pt=Et.exports,Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("div",{staticClass:"sites"},[s("h3",[t._v("Sites")]),s("p",[t._v(t._s(t.sites.length)+" Found")]),s("table",{staticClass:"sites__table"},[s("thead",[s("th",[t._v("ID\n        "),s("Sort",{attrs:{sortBy:"ID",type:"sites"}})],1),s("th",[t._v("Name\n        "),s("Sort",{attrs:{sortBy:"name",type:"sites"}})],1),s("th",[t._v("Views\n        "),s("Sort",{attrs:{sortBy:"views",type:"sites"}})],1),s("th",[t._v("Embeds\n        "),s("Sort",{attrs:{sortBy:"embeds",type:"sites"}})],1),s("th",[s("Sort",{attrs:{sortBy:"quizzes",type:"sites"}}),t._v("Quizzes")],1),s("th",[t._v("Date Added\n        "),s("Sort",{attrs:{sortBy:"createdAt",type:"sites"}})],1),s("th",[t._v("Is Dev\n        "),s("Sort",{attrs:{sortBy:"isDev",type:"sites"}})],1)]),s("tbody",t._l(t.sites,function(e){return s("tr",{attrs:{site:e}},[s("td",[s("router-link",{attrs:{to:{name:"site",params:{siteID:e.ID}}}},[t._v(t._s(e.ID))])],1),s("td",[s("a",{staticClass:"site__link",attrs:{href:e.url}},[t._v(t._s(e.name))])]),s("td",[t._v(t._s(e.views))]),s("td",[t._v(t._s(e.embeds))]),s("td",[t._v(t._s(e.quizzes))]),s("td",[t._v(t._s(e.createdAt))]),s("td",[t._v(t._s(e.isDev))])])}))])]):t.loading?s("Loader"):t._e()},jt=[],$t={name:"SitePreview",props:{sites:Array,quizzes:Array,embeds:Array,loading:Boolean},components:{Loader:m,Sort:K}},Bt=$t,Tt=(s("K7ku"),Object(v["a"])(Bt,Ot,jt,!1,null,"0613aab0",null)),Ft=Tt.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"site-totals"},[s("h3",[t._v("Site Totals")]),s("table",[s("tbody",[s("tr",[s("th",[t._v("Production Sites")]),s("td",[t._v(t._s(t.nonDevSites.length))])]),t.sites.length-t.nonDevSites.length?s("tr",[s("th",[t._v("Dev Sites")]),s("td",[t._v(t._s(t.sites.length-t.nonDevSites.length))])]):t._e(),s("tr",[s("th",[t._v("Embeds")]),s("td",[t._v(t._s(t.embedsTotal))])]),s("tr",[s("th",[t._v("Quizzes")]),s("td",[t._v(t._s(t.quizTotal))])]),s("tr",[s("th",[t._v("Unique Quizzes")]),s("td",[t._v(t._s(t.uniqueQuizTotal))])])])])])},Lt=[],Ut={name:"SiteTotals",props:{sites:Array,title:String},methods:{},computed:{nonDevSites:function(){return this.sites.filter(function(t){return 0==t.isDev})},embedsTotal:function(){for(var t=0,e=0;e<this.sites.length;e++)t+=this.sites[e].embeds;return t},quizTotal:function(){for(var t=0,e=0;e<this.sites.length;e++)t+=this.sites[e].quizzes;return t},uniqueQuizTotal:function(){for(var t,e=[],s=0;s<this.sites.length;s++)for(var i=0;i<this.sites[s].quizIDs.length;i++)t=this.sites[s].quizIDs[i],e.includes(t)||e.push(t);return e.length}}},Vt=Ut,Mt=(s("Vn91"),Object(v["a"])(Vt,Nt,Lt,!1,null,"16ba342a",null)),Ht=Mt.exports,Jt={name:"domain",data:function(){return{domainID:Number,loading:!0}},components:{DomainInfo:ht,EmbedPreview:yt,EmbedTotals:St,QuizPreview:Pt,QuizTotals:C,SitePreview:Ft,SiteTotals:Ht,Loader:m},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;if(this.domainID=this.$route.params.domainID,console.log("loading site view",this.domains),0==this.domains.length)return this.loading=!0,console.log("fetching data"),this.$store.dispatch("fetchAllData").then(function(){return t.loading=!1});console.log("already have data"),this.loading=!1}},computed:Object(r["a"])({},Object(o["b"])(["error","domains","sites","getDomain","getDomainQuizzes","getDomainEmbeds","getDomainSites"]))},Kt=Jt,Rt=Object(v["a"])(Kt,lt,ut,!1,null,null,null),Wt=Rt.exports,Yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view view--sites"},[s("p",{staticClass:"hint"},[t._v('Each individual subdomain of a domain is counted as a site. For example, the domain "nytimes" may have sites under https://www.nytimes.com, http://nytimes.com. http://m.nytimes.com, etc. Each of these subdomains (www., m., etc) gets counted as a separate site.')]),s("div",{staticClass:"filter"},[s("form",{staticClass:"filters"},[s("div",{staticClass:"top-filters"},[s("label",[t._v("Search Sites"),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.search.val,expression:"filters.search.val"}],staticClass:"filter__input",attrs:{type:"text"},domProps:{value:t.filters.search.val},on:{input:function(e){e.target.composing||t.$set(t.filters.search,"val",e.target.value)}}})]),s("span",[s("button",{staticClass:"btn show-filters",on:{click:function(e){return e.preventDefault(),t.toggleFilters(e)}}},[t._v(t._s(t.showFilters?"Hide":"Show")+" Filters")])])]),t.showFilters?s("div",{staticClass:"extra-filters"},[s("label",[t._v("Dev Sites"),s("br"),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.isDev.val,expression:"filters.keys.isDev.val"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.isDev,"val",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0"}},[t._v("Exclude Dev Sites")]),s("option",{attrs:{value:""}},[t._v("Include Dev Sites")]),s("option",{attrs:{value:"1"}},[t._v("Dev Sites Only")])])]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.quizzes.val,expression:"filters.keys.quizzes.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.quizzes.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.quizzes,"val",e.target.value)}}}),t._v(" Quizzes\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.views.val,expression:"filters.keys.views.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.views.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.views,"val",e.target.value)}}}),t._v(" Views\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.embeds.val,expression:"filters.keys.embeds.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.embeds.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.embeds,"val",e.target.value)}}}),t._v(" Embeds\n        ")]),s("label",[t._v("Added \n          "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.operator,expression:"filters.keys.createdAt.operator"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.createdAt,"operator",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"<="}},[t._v("After")]),s("option",{attrs:{value:">="}},[t._v("Before")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.val,expression:"filters.keys.createdAt.val"}],staticClass:"filter__input filter__input--date",attrs:{type:"date"},domProps:{value:t.filters.keys.createdAt.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.createdAt,"val",e.target.value)}}})])]):t._e()])]),t.filteredSites.length>0?s("section",{staticClass:"sites"},[s("SiteTotals",{attrs:{sites:t.filteredSites}}),s("SitePreview",{attrs:{sites:t.filteredSites,embeds:t.embeds,quizzes:t.quizzes,loading:t.loading}})],1):s("section",{staticClass:"no-sites"},[t._v('\n    No sites found for search "'+t._s(t.filters.search.val)+'" with these filters.\n  ')])])},Zt=[],Gt={name:"sites",data:function(){return{loading:Boolean,showFilters:!1,filters:{search:{val:"",keys:["url","name"]},keys:{isDev:{val:"0",operator:"==",type:"match"},quizzes:{val:0,operator:"<=",type:"morethan"},views:{val:0,operator:"<=",type:"morethan"},embeds:{val:0,operator:"<=",type:"morethan"},createdAt:{val:"2016-01-01",operator:"<=",type:"dateafter"}}}}},components:{SitePreview:Ft,SiteTotals:Ht},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{toggleFilters:function(){this.showFilters=!this.showFilters},fetchData:function(){var t=this;if(0==this.sites.length)return this.loading=!0,console.log("fetching data"),this.$store.dispatch("fetchAllData").then(function(){return t.loading=!1});console.log("already have data"),this.loading=!1}},computed:Object(r["a"])({filteredSites:function(){return this.filter(this.sites,this.filters)}},Object(o["b"])(["error","sites","quizzes","nonDevSites","embeds","server","filter"]))},Xt=Gt,te=(s("FTo+"),Object(v["a"])(Xt,Yt,Zt,!1,null,"433c0140",null)),ee=te.exports,se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("div",{staticClass:"view view--site-info"},[s("SiteInfo",{attrs:{site:t.getSite(t.siteID)}}),s("EmbedTotals",{attrs:{embeds:t.getSiteEmbeds(t.siteID)}}),s("QuizTotals",{attrs:{quizzes:t.getSiteQuizzes(t.siteID)}}),s("QuizPreview",{attrs:{quizzes:t.getSiteQuizzes(t.siteID)}}),s("EmbedPreview",{attrs:{embeds:t.getSiteEmbeds(t.siteID)}})],1):t.loading?s("Loader"):t._e()},ie=[],ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"site-info"},[s("h2",{staticClass:"site__title"},[s("a",{attrs:{href:t.site.url}},[t._v(t._s(t.site.name))])]),s("table",[s("tbody",[s("tr",[s("th",[t._v("Views")]),s("td",[t._v(t._s(t.site.views))])]),s("tr",[s("th",[t._v("Quizzes")]),s("td",[t._v(t._s(t.site.quizzes))])]),s("tr",[s("th",[t._v("Embeds")]),s("td",[t._v(t._s(t.site.embeds))])]),s("tr",[s("th",[t._v("Is Dev")]),s("td",[t._v(t._s(t.site.isDev))])])])])])},ne=[],re={name:"SiteInfo",props:{site:Object},created:function(){},methods:{}},oe=re,le=(s("Ych9"),Object(v["a"])(oe,ae,ne,!1,null,"c5e25292",null)),ue=le.exports,ce={name:"site",data:function(){return{siteID:Number,loading:!0}},components:{SiteInfo:ue,EmbedPreview:yt,EmbedTotals:St,QuizPreview:Pt,QuizTotals:C,Loader:m},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;if(this.siteID=this.$route.params.siteID,console.log("loading site view",this.sites),0==this.sites.length)return this.loading=!0,console.log("fetching data"),this.$store.dispatch("fetchAllData").then(function(){return t.loading=!1});console.log("already have data"),this.loading=!1}},computed:Object(r["a"])({},Object(o["b"])(["error","sites","getSite","getSiteQuizzes","getSiteEmbeds"]))},de=ce,ve=Object(v["a"])(de,se,ie,!1,null,null,null),fe=ve.exports,me=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("div",{staticClass:"view view--quizzes"},[s("div",{staticClass:"filter"},[s("form",{staticClass:"filters"},[s("div",{staticClass:"top-filters"},[s("label",[t._v("Search Quizzes"),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.search.val,expression:"filters.search.val"}],staticClass:"filter__input",attrs:{type:"text"},domProps:{value:t.filters.search.val},on:{input:function(e){e.target.composing||t.$set(t.filters.search,"val",e.target.value)}}})]),s("span",[s("button",{staticClass:"btn show-filters",on:{click:function(e){return e.preventDefault(),t.toggleFilters(e)}}},[t._v(t._s(t.showFilters?"Hide":"Show")+" Filters")])])]),t.showFilters?s("div",{staticClass:"extra-filters"},[s("label",[t._v("Quiz Status"),s("br"),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.status.val,expression:"filters.keys.status.val"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.status,"val",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("All")]),s("option",{attrs:{value:"published"}},[t._v("Published")]),s("option",{attrs:{value:"draft"}},[t._v("Draft")])])]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.views.val,expression:"filters.keys.views.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.views.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.views,"val",e.target.value)}}}),t._v(" Views\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.questions.val,expression:"filters.keys.questions.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.questions.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.questions,"val",e.target.value)}}}),t._v(" Questions\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.starts.val,expression:"filters.keys.starts.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.starts.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.starts,"val",e.target.value)}}}),t._v(" Starts\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.startPercentage.val,expression:"filters.keys.startPercentage.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.startPercentage.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.startPercentage,"val",e.target.value)}}}),t._v(" Start Percentage\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.finishes.val,expression:"filters.keys.finishes.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.finishes.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.finishes,"val",e.target.value)}}}),t._v(" Finishes\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.finishPercentage.val,expression:"filters.keys.finishPercentage.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.finishPercentage.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.finishPercentage,"val",e.target.value)}}}),t._v(" Finish Percentage\n        ")]),s("label",[t._v("Added \n          "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.operator,expression:"filters.keys.createdAt.operator"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.createdAt,"operator",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"<="}},[t._v("After")]),s("option",{attrs:{value:">="}},[t._v("Before")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.val,expression:"filters.keys.createdAt.val"}],staticClass:"filter__input filter__input--date",attrs:{type:"date"},domProps:{value:t.filters.keys.createdAt.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.createdAt,"val",e.target.value)}}})])]):t._e()])]),t.filteredQuizzes.length>0?s("QuizTotals",{attrs:{quizzes:t.filteredQuizzes}}):t._e(),t.filteredQuizzes.length>0?s("QuizPreview",{attrs:{quizzes:t.filteredQuizzes}}):s("section",{staticClass:"no-quizzes"},[t._v('\n    No quizzes found for search "'+t._s(t.filters.search.val)+'" and the selected filters.\n  ')])],1):t.loading?s("Loader"):t._e()},he=[],pe={name:"Quizzes",data:function(){return{loading:Boolean,showFilters:!1,filters:{search:{val:"",keys:["title"]},keys:{status:{val:"published",operator:"==",type:"match"},views:{val:0,operator:"<=",type:"morethan"},starts:{val:0,operator:"<=",type:"morethan"},startPercentage:{val:0,operator:"<=",type:"morethan"},finishes:{val:0,operator:"<=",type:"morethan"},finishPercentage:{val:0,operator:"<=",type:"morethan"},questions:{val:0,operator:"<=",type:"morethan"},createdAt:{val:"2016-01-01",operator:"<=",type:"dateafter"}}}}},components:{QuizPreview:Pt,QuizTotals:C,Loader:m},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{toggleFilters:function(){this.showFilters=!this.showFilters},fetchData:function(){var t=this;if(0==this.quizzes.length)return this.loading=!0,this.$store.dispatch("fetchQuizzes").then(function(){return t.loading=!1});console.log("already have quiz data"),this.loading=!1}},computed:Object(r["a"])({filteredQuizzes:function(){return this.filter(this.quizzes,this.filters)}},Object(o["b"])(["error","quizzes","filter"]))},_e=pe,ge=(s("PUMA"),Object(v["a"])(_e,me,he,!1,null,"d03d277a",null)),ze=ge.exports,be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("div",{staticClass:"view view--quiz-info"},[s("QuizInfo",{attrs:{quiz:t.getQuiz(t.quizID)}}),s("SiteTotals",{attrs:{sites:t.getQuizSites(t.quizID)}}),s("EmbedTotals",{attrs:{embeds:t.getQuizEmbeds(t.quizID)}}),s("SitePreview",{attrs:{sites:t.getQuizSites(t.quizID)}}),s("EmbedPreview",{attrs:{embeds:t.getQuizEmbeds(t.quizID)}})],1):t.loading?s("Loader"):t._e()},ye=[],De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"quiz-info"},[s("h2",{staticClass:"quiz__title"},[s("a",{staticClass:"quiz__link",attrs:{href:"https://mediaengagement.org/quiz-embed/"+t.quiz.ID}},[t._v(t._s(t.quiz.title))])]),s("table",{staticClass:"quizzes__table"},[s("tbody",[s("tr",[s("th",[t._v("ID")]),s("td",[t._v(t._s(t.quiz.ID))])]),s("tr",[s("th",[t._v("Title")]),s("td",[s("a",{staticClass:"quiz__link",attrs:{href:"https://mediaengagement.org/quiz-embed/"+t.quiz.ID}},[t._v(t._s(t.quiz.title))])])]),s("tr",[s("th",[t._v("Status")]),s("td",[t._v(t._s(t.quiz.status))])]),s("tr",[s("th",[t._v("Questions")]),s("td",[t._v(t._s(t.quiz.questions))])]),s("tr",[s("th",[t._v("Views ")]),s("td",[t._v(t._s(t.quiz.views))])]),s("tr",[s("th",[t._v("Starts")]),s("td",[t._v(t._s(t.quiz.starts)+" | "+t._s(t.quiz.startPercentage)+"%")])]),s("tr",[s("th",[t._v("Finishes")]),s("td",[t._v(t._s(t.quiz.finishes)+" | "+t._s(t.quiz.finishPercentage)+"%")])]),s("tr",[s("th",[t._v("Created At")]),s("td",[t._v(t._s(t.quiz.createdAt))])])])])])},qe=[],we={name:"QuizInfo",props:{quiz:Object},created:function(){},methods:{}},Ie=we,ke=(s("7SwN"),Object(v["a"])(Ie,De,qe,!1,null,"00fd9521",null)),Se=ke.exports,Ae={name:"quiz",data:function(){return{quizID:Number,loading:!0}},components:{QuizInfo:Se,EmbedPreview:yt,EmbedTotals:St,SitePreview:Ft,SiteTotals:Ht,Loader:m},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;if(this.quizID=this.$route.params.quizID,console.log("loading quiz view",this.sites),0==this.quizzes.length)return this.loading=!0,console.log("fetching data"),this.$store.dispatch("fetchAllData").then(function(){return t.loading=!1});console.log("already have data"),this.loading=!1}},computed:Object(r["a"])({},Object(o["b"])(["error","quizzes","getQuiz","getQuizSites","getQuizEmbeds"]))},Ce=Ae,xe=Object(v["a"])(Ce,be,ye,!1,null,null,null),Qe=xe.exports,Ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view view--embeds"},[s("div",{staticClass:"filter"},[s("form",{staticClass:"filters"},[s("div",{staticClass:"top-filters"},[s("label",[t._v("Search Embeds"),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.search.val,expression:"filters.search.val"}],staticClass:"filter__input",attrs:{type:"text"},domProps:{value:t.filters.search.val},on:{input:function(e){e.target.composing||t.$set(t.filters.search,"val",e.target.value)}}})]),s("span",[s("button",{staticClass:"btn show-filters",on:{click:function(e){return e.preventDefault(),t.toggleFilters(e)}}},[t._v(t._s(t.showFilters?"Hide":"Show")+" Filters")])])]),t.showFilters?s("div",{staticClass:"extra-filters"},[s("label",[t._v("Dev Embeds"),s("br"),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.isDev.val,expression:"filters.keys.isDev.val"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.isDev,"val",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0"}},[t._v("Exclude Dev Embeds")]),s("option",{attrs:{value:""}},[t._v("Include Dev Embeds")]),s("option",{attrs:{value:"1"}},[t._v("Dev Embeds Only")])])]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.views.val,expression:"filters.keys.views.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.views.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.views,"val",e.target.value)}}}),t._v(" Views\n        ")]),s("label",[t._v("Quiz ID = "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.quizID.val,expression:"filters.keys.quizID.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.quizID.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.quizID,"val",e.target.value)}}})]),s("label",[t._v("Site ID = "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.siteID.val,expression:"filters.keys.siteID.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.siteID.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.siteID,"val",e.target.value)}}})]),s("label",[t._v("Added \n          "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.operator,expression:"filters.keys.createdAt.operator"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.createdAt,"operator",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"<="}},[t._v("After")]),s("option",{attrs:{value:">="}},[t._v("Before")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.val,expression:"filters.keys.createdAt.val"}],staticClass:"filter__input filter__input--date",attrs:{type:"date"},domProps:{value:t.filters.keys.createdAt.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.createdAt,"val",e.target.value)}}})]),s("label",[t._v("Updated \n          "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.updatedAt.operator,expression:"filters.keys.updatedAt.operator"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.updatedAt,"operator",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"<="}},[t._v("After")]),s("option",{attrs:{value:">="}},[t._v("Before")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.updatedAt.val,expression:"filters.keys.updatedAt.val"}],staticClass:"filter__input filter__input--date",attrs:{type:"date"},domProps:{value:t.filters.keys.updatedAt.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.updatedAt,"val",e.target.value)}}})])]):t._e()])]),t.filteredEmbeds.length>0?s("section",{staticClass:"embeds"},[s("EmbedTotals",{attrs:{embeds:t.filteredEmbeds}}),s("EmbedPreview",{attrs:{embeds:t.filteredEmbeds,loading:t.loading}})],1):s("section",{staticClass:"no-embeds"},[t._v('\n    No embeds found for search "'+t._s(t.filters.search.val)+'" and selected filters.\n  ')])])},Pe=[],Oe={name:"embeds",data:function(){return{search:"",loading:Boolean,showFilters:!1,filters:{search:{val:"",keys:["url"]},keys:{isDev:{val:"0",operator:"==",type:"match"},quizID:{val:"",operator:"==",type:"match"},siteID:{val:"",operator:"==",type:"match"},views:{val:0,operator:"<=",type:"morethan"},createdAt:{val:"2016-01-01",operator:"<=",type:"dateafter"},updatedAt:{val:"2016-01-01",operator:"<=",type:"dateafter"}}}}},components:{EmbedPreview:yt,EmbedTotals:St},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;if(0==this.embeds.length)return this.loading=!0,console.log("fetching data"),this.$store.dispatch("fetchAllData").then(function(){return t.loading=!1});console.log("already have data"),this.loading=!1},toggleFilters:function(){this.showFilters=!this.showFilters}},computed:Object(r["a"])({filteredEmbeds:function(){return this.filter(this.embeds,this.filters)}},Object(o["b"])(["error","embeds","filter","nonDevEmbeds"]))},je=Oe,$e=(s("6MJO"),Object(v["a"])(je,Ee,Pe,!1,null,"e77e0002",null)),Be=$e.exports;i["a"].use(z["a"]);var Te,Fe=new z["a"]({routes:[{path:"/",name:"Home",component:B},{path:"/domains",name:"domains",component:ot},{path:"/domain/:domainID",name:"domain",component:Wt},{path:"/embeds",name:"Embeds",component:Be},{path:"/quizzes",name:"Quizzes",component:ze},{path:"/quizzes/:quizID",name:"quiz",component:Qe},{path:"/sites",name:"sites",component:ee},{path:"/sites/:siteID",name:"site",component:fe}]}),Ne=(s("Vd3H"),s("oyJW")),Le=(s("rGqo"),s("yt8O"),s("OG14"),s("L9s1"),s("vDqi")),Ue=s.n(Le);i["a"].use(o["a"]);var Ve=Ue.a.create({baseURL:(!1===/(?:localhost:8080|.+\.test)/.test(window.location.host)?"https://mediaengagement.org":"https://quiz.test")+"/wp-json",timeout:1e4}),Me=new o["a"].Store({state:{server:Ve,loading:!0,fetching:!1,error:!1,domains:[],sites:[],quizzes:[],totals:[],embeds:[]},mutations:{setError:function(t,e){t.error=e},setLoading:function(t,e){t.loading=e},setFetching:function(t,e){t.fetching=e},setDomains:function(t,e){console.log("domains set"),t.domains=e},setEmbeds:function(t,e){console.log("embeds set"),t.embeds=e},setQuizzes:function(t,e){console.log("quizzes set"),t.quizzes=e},setSites:function(t,e){console.log("sites set"),t.sites=e},setTotals:function(t,e){console.log("totals set"),t.totals=e}},getters:(Te={loading:function(t){return t.loading},fetching:function(t){return t.fetching},error:function(t){return t.error},server:function(t){return t.server},totals:function(t){return t.totals},domains:function(t){return t.domains},quizzes:function(t){return t.quizzes},quizIndexBy:function(t,e){return function(t,s){return e.indexBy(e.quizzes,t,s)}},getQuiz:function(t,e){return function(t){return e.quizzes[e.quizIndexBy("ID",t)]}}},Object(Ne["a"])(Te,"quizIndexBy",function(t,e){return function(t,s){return e.indexBy(e.quizzes,t,s)}}),Object(Ne["a"])(Te,"getQuizSites",function(t,e){return function(t){var s=[],i=e.sites;t=parseInt(t);for(var a=0;a<i.length;a++)i[a].quizIDs.includes(t)&&s.push(i[a]);return s}}),Object(Ne["a"])(Te,"getQuizEmbeds",function(t,e){return function(t){for(var s=[],i=e.embeds,a=0;a<i.length;a++)i[a].quizID==t&&s.push(i[a]);return s}}),Object(Ne["a"])(Te,"publishedQuizzes",function(t,e){return e.quizzes.filter(function(t){return"published"===t.status})}),Object(Ne["a"])(Te,"filter",function(t,e){return function(t,s){var i=t;if(0==i.length)return i;for(var a in i=e.search(i,s.search),s.keys)i="length"===s.keys[a].type?e.runLengthFilter(i,a,s.keys[a]):e.runFilter(i,a,s.keys[a]);return i}}),Object(Ne["a"])(Te,"runFilter",function(t,e){return function(t,e,s){return""==s.val||null==s.val||void 0==s.val?t:t.filter(function(t){if("=="==s.operator){if(t[e]==s.val)return!0}else if("!="==s.operator){if(t[e]!=s.val)return!0}else if(">="==s.operator){if(s.val>=t[e])return!0}else if("<="==s.operator&&s.val<=t[e])return!0;return!1})}}),Object(Ne["a"])(Te,"search",function(t,e){return function(t,e){var s=t;if(""==e.val)return s;for(var i=function(i){s=t.filter(function(t){if(t[e.keys[i]].toUpperCase().includes(e.val.toUpperCase()))return!0})},a=0;a<e.keys.length;a++)i(a);return s}}),Object(Ne["a"])(Te,"filterQuizzes",function(t,e){return function(t){return""==t?e.quizzes:e.quizzes.filter(function(e){return!!e.title.toUpperCase().includes(t.toUpperCase())||(!!e.ID.toUpperCase().includes(t.toUpperCase())||void 0)})}}),Object(Ne["a"])(Te,"quizTotal",function(t,e){return function(t){for(var s=0,i=0;i<e.quizzes.length;i++)s+=e.quizzes[i][t];return s}}),Object(Ne["a"])(Te,"quizPercentage",function(t,e){return function(t){return+(e.quizTotal(t)/e.quizTotal("views")*100).toFixed(2)}}),Object(Ne["a"])(Te,"getDomain",function(t,e){return function(t){return e.domains[e.domainIndexBy("ID",t)]}}),Object(Ne["a"])(Te,"getDomainQuizzes",function(t,e){return function(t){for(var s=[],i=e.getDomain(t),a=0;a<i.quizIDs.length;a++)s.push(e.getQuiz(i.quizIDs[a]));return s}}),Object(Ne["a"])(Te,"getDomainEmbeds",function(t,e){return function(t){for(var s=[],i=e.getDomain(t),a=0;a<i.embedIDs.length;a++)s.push(e.embed(i.embedIDs[a]));return s}}),Object(Ne["a"])(Te,"getDomainSites",function(t,e){return function(t){for(var s=[],i=e.getDomain(t),a=0;a<i.siteIDs.length;a++)s.push(e.getSite(i.siteIDs[a]));return s}}),Object(Ne["a"])(Te,"domainIndexBy",function(t,e){return function(t,s){return e.indexBy(e.domains,t,s)}}),Object(Ne["a"])(Te,"sites",function(t){return t.sites}),Object(Ne["a"])(Te,"getSite",function(t,e){return function(t){return e.sites[e.siteIndexBy("ID",t)]}}),Object(Ne["a"])(Te,"siteIndexBy",function(t,e){return function(t,s){return e.indexBy(e.sites,t,s)}}),Object(Ne["a"])(Te,"nonDevSites",function(t,e){return e.sites.filter(function(t){return t.isDev.includes("0")})}),Object(Ne["a"])(Te,"getSiteQuizzes",function(t,e){return function(t){for(var s=[],i=e.getSite(t),a=0;a<i.quizIDs.length;a++)s.push(e.getQuiz(i.quizIDs[a]));return s}}),Object(Ne["a"])(Te,"getSiteEmbeds",function(t,e){return function(t){for(var s=[],i=e.getSite(t),a=0;a<i.embedIDs.length;a++)s.push(e.embed(i.embedIDs[a]));return s}}),Object(Ne["a"])(Te,"embeds",function(t){return t.embeds}),Object(Ne["a"])(Te,"embedIndexBy",function(t,e){return function(s,i){return e.indexBy(t.embeds,s,i)}}),Object(Ne["a"])(Te,"embed",function(t,e){return function(s){return t.embeds[e.embedIndexBy("ID",s)]}}),Object(Ne["a"])(Te,"indexBy",function(){return function(t,e,s){for(var i=0;i<t.length;i++)if(t[i][e]==s)return i}}),Te),actions:{error:function(t,e){t.commit("setError",e)},loading:function(t,e){t.commit("setLoading",e)},fetching:function(t,e){t.commit("setFetching",e)},sitePosts:function(t,e){t.commit("setSitePosts",e)},fetchAllData:function(t){return t.dispatch("loading",!0),t.dispatch("fetchSites").then(function(){return t.dispatch("fetchQuizzes")}).then(function(){return t.dispatch("fetchEmbeds")}).then(function(){return t.dispatch("fetchDomains")}).then(function(){return t.dispatch("fetchTotals")}).finally(function(){t.dispatch("loading",!1)})},fetchDomains:function(t){return console.log("fetching domains"),t.dispatch("fetching",!0),t.getters.server("/enp-quiz/v1/domains").then(function(e){console.log("fetched domains");for(var s=e.data,i=[],a=0;a<s.length;a++){i[a]={ID:s[a].embed_domain_id,name:s[a].embed_domain_name,url:"http://".concat(s[a].embed_domain_url),owner:s[a].embed_domain_type_ids,siteIDs:s[a].embed_domain_site_ids,sites:s[a].embed_domain_site_ids.length,embedIDs:[],embeds:0,quizIDs:[],quizzes:0,views:0,createdAt:s[a].embed_domain_created_at,updatedAt:s[a].embed_domain_updated_at};for(var n=0;n<i[a].siteIDs.length;n++){var r=t.getters.getSite(i[a].siteIDs[n]);i[a].quizIDs=r.quizIDs,i[a].quizzes+=r.quizzes,i[a].embedIDs=r.embedIDs,i[a].embeds+=r.embeds,i[a].views+=r.views}}t.commit("setDomains",i),t.dispatch("sort",{type:"domains",sortBy:"createdAt",order:"asc"})}).catch(function(e){console.error(e),t.dispatch("error",!0)}).finally(function(){t.dispatch("fetching",!1)})},fetchEmbeds:function(t){return console.log("fetching embeds"),t.dispatch("fetching",!0),t.getters.server("/enp-quiz/v1/embeds").then(function(e){console.log("fetched embeds");for(var s,i=e.data,a=[],n=t.getters.sites,r=0;r<i.length;r++)a[r]={ID:parseInt(i[r].embed_quiz_id),quizID:parseInt(i[r].quiz_id),siteID:parseInt(i[r].embed_site_id),url:i[r].embed_quiz_url,views:parseInt(i[r].embed_quiz_loads),createdAt:i[r].embed_quiz_created_at,updatedAt:i[r].embed_quiz_updated_at,isDev:i[r].embed_quiz_is_dev},s=t.getters.siteIndexBy("ID",a[r].siteID),n[s].quizIDs.includes(a[r].quizID)||n[s].quizIDs.push(a[r].quizID),n[s].views+=a[r].views,n[s].quizzes=n[s].quizIDs.length;t.commit("setEmbeds",a),t.commit("setSites",n)}).catch(function(e){console.error(e),t.dispatch("error",!0)}).finally(function(){t.dispatch("fetching",!1)})},fetchQuizzes:function(t){return console.log("fetching quizzes"),t.dispatch("fetching",!0),t.getters.server("/enp-quiz/v1/quizzes").then(function(e){console.log("fetched quizzes");for(var s=e.data,i=[],a=0;a<s.length;a++)i[a]={ID:parseInt(s[a].quiz_id),title:s[a].quiz_title,status:s[a].quiz_status,owner:s[a].quiz_owner,questionIDs:s[a].questions,questions:s[a].questions.length,views:parseInt(s[a].quiz_views),starts:parseInt(s[a].quiz_starts),startPercentage:0!=parseInt(s[a].quiz_starts)?+(s[a].quiz_starts/s[a].quiz_views*100).toFixed(2):0,finishes:parseInt(s[a].quiz_finishes),finishPercentage:0!=parseInt(s[a].quiz_finishes)?+(s[a].quiz_finishes/s[a].quiz_views*100).toFixed(2):0,average:s[a].quiz_score_average,createdAt:s[a].quiz_created_at,scores:void 0};t.commit("setQuizzes",i)}).catch(function(e){console.error(e),t.dispatch("error",!0)}).finally(function(){t.dispatch("fetching",!1)})},fetchSites:function(t){return console.log("fetching sites"),t.dispatch("fetching",!0),t.getters.server("/enp-quiz/v1/sites").then(function(e){console.log("fetched sites");for(var s=e.data,i=[],a=0;a<s.length;a++)i[a]={ID:parseInt(s[a].embed_site_id),name:s[a].embed_site_name,url:s[a].embed_site_url,owner:s[a].embed_site_type_ids,embedIDs:s[a].embed_site_quiz_ids,embeds:s[a].embed_site_quiz_ids.length,quizIDs:[],quizzes:0,views:0,createdAt:s[a].embed_site_created_at,updatedAt:s[a].embed_site_updated_at,isDev:s[a].embed_site_is_dev};t.commit("setSites",i)}).catch(function(e){console.error(e),t.dispatch("error",!0)}).finally(function(){t.dispatch("fetching",!1)})},fetchTotals:function(t){return console.log("fetching totals"),t.dispatch("fetching",!0),t.getters.server("/enp-quiz/v1/totals").then(function(e){console.log("fetched totals");var s=e.data;s.responses.correctPercentage=+(s.responses.correct/s.responses.total*100).toFixed(2),s.responses.incorrectPercentage=+(s.responses.incorrect/s.responses.total*100).toFixed(2),t.commit("setTotals",s)}).catch(function(e){console.error(e),t.dispatch("error",!0)}).finally(function(){t.dispatch("fetching",!1)})},sort:function(t,e){var s,i=t.getters[e.type],a=e.order,n=e.sortBy;i=i.sort(function(t,e){if(!t.hasOwnProperty(n)||!e.hasOwnProperty(n))return 0;var s="string"===typeof t[n]?t[n].toUpperCase():t[n],i="string"===typeof e[n]?e[n].toUpperCase():e[n],r=0;return s>i?r=1:s<i&&(r=-1),"desc"==a?-1*r:r}),s="set"+e.type.charAt(0).toUpperCase()+e.type.substr(1),t.commit(s,i)},compareValues:function(t,e){}}});i["a"].config.productionTip=!1,new i["a"]({router:Fe,store:Me,render:function(t){return t(g)}}).$mount("#app")},X0gH:function(t,e,s){"use strict";var i=s("UQfq"),a=s.n(i);a.a},Ych9:function(t,e,s){"use strict";var i=s("ClJC"),a=s.n(i);a.a},cF5r:function(t,e,s){},fCAD:function(t,e,s){},gWBB:function(t,e,s){},gpZ9:function(t,e,s){"use strict";var i=s("iY6F"),a=s.n(i);a.a},iY6F:function(t,e,s){},jsMF:function(t,e,s){"use strict";var i=s("GzhW"),a=s.n(i);a.a},l5UX:function(t,e,s){},n8Hk:function(t,e,s){},nNx0:function(t,e,s){"use strict";var i=s("gWBB"),a=s.n(i);a.a},pUEu:function(t,e,s){"use strict";var i=s("vxfe"),a=s.n(i);a.a},qIjp:function(t,e,s){},rdtp:function(t,e,s){"use strict";var i=s("+PJ+"),a=s.n(i);a.a},us2Y:function(t,e,s){"use strict";var i=s("fCAD"),a=s.n(i);a.a},vxfe:function(t,e,s){},x5vo:function(t,e,s){}});
//# sourceMappingURL=app.2736941e.js.map