(function(t){function e(e){for(var i,a,o=e[0],l=e[1],u=e[2],d=0,v=[];d<o.length;d++)a=o[d],r[a]&&v.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(v.length)v.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,o=1;o<s.length;o++){var l=s[o];0!==r[l]&&(i=!1)}i&&(n.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},r={1:0},n=[];function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;n.push([16,0]),s()})({"+PJ+":function(t,e,s){},16:function(t,e,s){t.exports=s("Vtdi")},"1L+U":function(t,e,s){},"1PZh":function(t,e,s){},"225j":function(t,e,s){"use strict";var i=s("qIjp"),r=s.n(i);r.a},"2woQ":function(t,e,s){},"6MJO":function(t,e,s){"use strict";var i=s("x5vo"),r=s.n(i);r.a},"7Ncn":function(t,e,s){},Exvd:function(t,e,s){},Fl6i:function(t,e,s){"use strict";var i=s("1PZh"),r=s.n(i);r.a},G4Zl:function(t,e,s){"use strict";var i=s("mVIq"),r=s.n(i);r.a},"Iy/c":function(t,e,s){"use strict";var i=s("M7wy"),r=s.n(i);r.a},M7wy:function(t,e,s){},N2QY:function(t,e,s){},PKTJ:function(t,e,s){"use strict";var i=s("yG9i"),r=s.n(i);r.a},PUMA:function(t,e,s){"use strict";var i=s("1L+U"),r=s.n(i);r.a},SFlZ:function(t,e,s){"use strict";var i=s("2woQ"),r=s.n(i);r.a},Vn91:function(t,e,s){"use strict";var i=s("7Ncn"),r=s.n(i);r.a},Vtdi:function(t,e,s){"use strict";s.r(e);s("VRzm");var i=s("Kw5r"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app",class:{"app--error":t.error,"app--loading":t.loading},attrs:{id:"app"}},[s("header",{staticClass:"container"},[s("h1",{staticClass:"app__title"},[t._v("Quiz Creator Data")]),s("nav",[s("router-link",{attrs:{to:"/"}},[t._v("Home")]),s("router-link",{attrs:{to:"/sites"}},[t._v("Sites")]),s("router-link",{attrs:{to:"/quizzes"}},[t._v("Quizzes")]),s("router-link",{attrs:{to:"/embeds"}},[t._v("Embeds")])],1)]),s("div",{staticClass:"visually-hidden",staticStyle:{position:"absolute",width:"0",height:"0"}},[s("svg",{staticStyle:{display:"none"}},[s("symbol",{attrs:{id:"icon-up",width:"24",height:"24",viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}}),s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})]),s("symbol",{attrs:{id:"icon-down",width:"24px",height:"24px",viewBox:"0 0 24 24","enable-background":"new 0 0 24 24","xml:space":"preserve"}},[s("path",{attrs:{d:"M7.41,8.59L12,13.17l4.59-4.58L18,10l-6,6l-6-6L7.41,8.59z"}}),s("path",{attrs:{fill:"none",d:"M0,0h24v24H0V0z"}})])])]),t.error?s("main",{staticClass:"main container"},[s("p",[t._v("Error")])]):t._e(),s("main",{staticClass:"main container"},[s("router-view")],1)])},n=[],a=s("yT7P"),o=s("L2JU"),l={components:{},computed:Object(a["a"])({},Object(o["b"])(["loading","error"]))},u=l,c=(s("nNx0"),s("KHd+")),d=Object(c["a"])(u,r,n,!1,null,null,null),v=d.exports,f=s("jE9Z"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("div",{staticClass:"home-view"},[s("Overview",{attrs:{sites:t.sites,embeds:t.embeds,quizzes:t.quizzes,loading:t.loading}})],1):t.loading?s("Loader"):t._e()},h=[],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view overview--view"},[s("table",[s("tbody",[s("tr",[s("th",[t._v("Sites (Non-Dev)")]),s("td",[t._v(t._s(t.nonDevSites.length))])]),s("tr",[s("th",[t._v("Embeds")]),s("td",[t._v(t._s(t.embeds.length))])])])]),t.quizzes.length>0?s("QuizTotals",{attrs:{quizzes:t.quizzes}}):t._e()],1)},m=[],y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"quiz"},[s("h3",[t._v("Quiz Totals")]),s("table",[s("tbody",[t.quizzes.length-t.publishedQuizzes.length?s("tr",[s("th",[t._v("Quizzes")]),s("td",[t._v(t._s(t.quizzes.length))])]):t._e(),t.publishedQuizzes.length?s("tr",[s("th",[t._v("Published Quizzes")]),s("td",[t._v(t._s(t.publishedQuizzes.length))])]):t._e(),t.quizzes.length-t.publishedQuizzes.length?s("tr",[s("th",[t._v("Draft Quizzes")]),s("td",[t._v(t._s(t.quizzes.length-t.publishedQuizzes.length))])]):t._e(),s("tr",[s("th",[t._v("Total Views")]),s("td",[t._v(t._s(t.quizTotal("views")))])]),s("tr",[s("th",[t._v("Total Starts")]),s("td",[t._v(t._s(t.quizTotal("starts")))])]),s("tr",[s("th",[t._v("Start Percentage")]),s("td",[t._v(t._s(t.quizPercentage("starts"))+"%")])]),s("tr",[s("th",[t._v("Total Finishes")]),s("td",[t._v(t._s(t.quizTotal("finishes")))])]),s("tr",[s("th",[t._v("Finish Percentage")]),s("td",[t._v(t._s(t.quizPercentage("finishes"))+"%")])])])])])},g=[],z=(s("f3/d"),{name:"QuizTotals",props:{quizzes:Array,title:String},methods:{quizTotal:function(t){for(var e=0,s=0;s<this.quizzes.length;s++)e+=this.quizzes[s][t];return e},quizPercentage:function(t){return+(this.quizTotal(t)/this.quizTotal("views")*100).toFixed(2)}},computed:{publishedQuizzes:function(){return this.quizzes.filter(function(t){return"published"===t.status})}}}),b=z,q=(s("PKTJ"),Object(c["a"])(b,y,g,!1,null,"5fd51915",null)),w=q.exports,k={name:"home",props:{sites:Array,quizzes:Array,embeds:Array},components:{QuizTotals:w},computed:Object(a["a"])({},Object(o["b"])(["nonDevSites","publishedQuizzes"]))},D=k,C=(s("rabe"),Object(c["a"])(D,_,m,!1,null,"59e31787",null)),S=C.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loader"},[s("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[s("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-miterlimit":"10"}})])])},A=[],P={name:"Loader",props:{}},B=P,I=(s("gpZ9"),Object(c["a"])(B,x,A,!1,null,"e9e9d07a",null)),Q=I.exports,O={name:"home",components:{Overview:S,Loader:Q},data:function(){return{loading:!0}},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;if(0==this.sites.length)return this.loading=!0,console.log("fetching data"),this.$store.dispatch("fetchAllData").then(function(){return t.loading=!1});console.log("already have data"),this.loading=!1}},computed:Object(a["a"])({},Object(o["b"])(["error","sites","quizzes","nonDevSites","embeds"]))},E=O,$=(s("SFlZ"),Object(c["a"])(E,p,h,!1,null,"35a8e6fe",null)),j=$.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view view--sites"},[s("div",{staticClass:"filter"},[s("form",{staticClass:"filters"},[s("div",{staticClass:"top-filters"},[s("label",[t._v("Search Sites"),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.search.val,expression:"filters.search.val"}],staticClass:"filter__input",attrs:{type:"text"},domProps:{value:t.filters.search.val},on:{input:function(e){e.target.composing||t.$set(t.filters.search,"val",e.target.value)}}})]),s("span",[s("button",{staticClass:"btn show-filters",on:{click:function(e){return e.preventDefault(),t.toggleFilters(e)}}},[t._v(t._s(t.showFilters?"Hide":"Show")+" Filters")])])]),t.showFilters?s("div",{staticClass:"extra-filters"},[s("label",[t._v("Dev Sites"),s("br"),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.isDev.val,expression:"filters.keys.isDev.val"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.isDev,"val",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0"}},[t._v("Exclude Dev Sites")]),s("option",{attrs:{value:""}},[t._v("Include Dev Sites")]),s("option",{attrs:{value:"1"}},[t._v("Dev Sites Only")])])]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.quizzes.val,expression:"filters.keys.quizzes.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.quizzes.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.quizzes,"val",e.target.value)}}}),t._v(" Quizzes\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.views.val,expression:"filters.keys.views.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.views.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.views,"val",e.target.value)}}}),t._v(" Views\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.embeds.val,expression:"filters.keys.embeds.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.embeds.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.embeds,"val",e.target.value)}}}),t._v(" Embeds\n        ")]),s("label",[t._v("Added \n          "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.operator,expression:"filters.keys.createdAt.operator"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.createdAt,"operator",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"<="}},[t._v("After")]),s("option",{attrs:{value:">="}},[t._v("Before")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.val,expression:"filters.keys.createdAt.val"}],staticClass:"filter__input filter__input--date",attrs:{type:"date"},domProps:{value:t.filters.keys.createdAt.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.createdAt,"val",e.target.value)}}})])]):t._e()])]),t.filteredSites.length>0?s("section",{staticClass:"sites"},[s("SiteTotals",{attrs:{sites:t.filteredSites}}),s("SitePreview",{attrs:{sites:t.filteredSites,embeds:t.embeds,quizzes:t.quizzes,loading:t.loading}})],1):s("section",{staticClass:"no-sites"},[t._v('\n    No sites found for search "'+t._s(t.filters.search.val)+'" with these filters.\n  ')])])},T=[],N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("div",{staticClass:"sites"},[s("h3",[t._v("Sites")]),s("p",[t._v(t._s(t.sites.length)+" Found")]),s("table",{staticClass:"sites__table"},[s("thead",[s("th",[t._v("ID\n        "),s("Sort",{attrs:{sortBy:"ID",type:"sites"}})],1),s("th",[t._v("Name\n        "),s("Sort",{attrs:{sortBy:"name",type:"sites"}})],1),s("th",[t._v("Views\n        "),s("Sort",{attrs:{sortBy:"views",type:"sites"}})],1),s("th",[t._v("Embeds\n        "),s("Sort",{attrs:{sortBy:"embeds",type:"sites"}})],1),s("th",[s("Sort",{attrs:{sortBy:"quizzes",type:"sites"}}),t._v("Quizzes")],1),s("th",[t._v("Date Added\n        "),s("Sort",{attrs:{sortBy:"createdAt",type:"sites"}})],1),s("th",[t._v("Is Dev\n        "),s("Sort",{attrs:{sortBy:"isDev",type:"sites"}})],1)]),s("tbody",t._l(t.sites,function(e){return s("tr",{attrs:{site:e}},[s("td",[t._v(t._s(e.ID))]),s("td",[s("a",{staticClass:"site__link",attrs:{href:e.url}},[t._v(t._s(e.name))])]),s("td",[t._v(t._s(e.views))]),s("td",[t._v(t._s(e.embeds))]),s("td",[t._v(t._s(e.quizzes))]),s("td",[t._v(t._s(e.createdAt))]),s("td",[t._v(t._s(e.isDev))])])}))])]):t.loading?s("Loader"):t._e()},L=[],U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"order-wrap"},[s("button",{staticClass:"btn--icon up",on:{click:function(e){t.sort("asc")}}},[s("svg",{staticClass:"icon-up"},[s("use",{attrs:{"xlink:href":"#icon-up"}})])]),s("button",{staticClass:"btn--icon down",on:{click:function(e){t.sort("desc")}}},[s("svg",{staticClass:"icon-down"},[s("use",{attrs:{"xlink:href":"#icon-down"}})])])])},V=[],M={name:"home",props:{type:String,sortBy:String},methods:{sort:function(t){this.$store.dispatch("sort",{type:this.type,sortBy:this.sortBy,order:t})}}},J=M,Z=(s("225j"),Object(c["a"])(J,U,V,!1,null,"a2802f08",null)),H=Z.exports,G={name:"SitePreview",props:{sites:Array,quizzes:Array,embeds:Array,loading:Boolean},components:{Loader:Q,Sort:H}},K=G,R=(s("nCir"),Object(c["a"])(K,N,L,!1,null,"7b541d09",null)),W=R.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"site-totals"},[s("h3",[t._v("Site Totals")]),s("table",[s("tbody",[s("tr",[s("th",[t._v("Production Sites")]),s("td",[t._v(t._s(t.nonDevSites.length))])]),t.sites.length-t.nonDevSites.length?s("tr",[s("th",[t._v("Dev Sites")]),s("td",[t._v(t._s(t.sites.length-t.nonDevSites.length))])]):t._e(),s("tr",[s("th",[t._v("Embeds")]),s("td",[t._v(t._s(t.embedsTotal))])]),s("tr",[s("th",[t._v("Quizzes")]),s("td",[t._v(t._s(t.quizTotal))])]),s("tr",[s("th",[t._v("Unique Quizzes")]),s("td",[t._v(t._s(t.uniqueQuizTotal))])])])])])},X=[],tt=(s("Z2Ku"),{name:"SiteTotals",props:{sites:Array,title:String},methods:{},computed:{nonDevSites:function(){return this.sites.filter(function(t){return 0==t.isDev})},embedsTotal:function(){for(var t=0,e=0;e<this.sites.length;e++)t+=this.sites[e].embeds;return t},quizTotal:function(){for(var t=0,e=0;e<this.sites.length;e++)t+=this.sites[e].quizzes;return t},uniqueQuizTotal:function(){for(var t,e=[],s=0;s<this.sites.length;s++)for(var i=0;i<this.sites[s].quizIDs.length;i++)t=this.sites[s].quizIDs[i],e.includes(t)||e.push(t);return e.length}}}),et=tt,st=(s("Vn91"),Object(c["a"])(et,Y,X,!1,null,"16ba342a",null)),it=st.exports,rt={name:"sites",data:function(){return{loading:Boolean,showFilters:!1,filters:{search:{val:"",keys:["url","name"]},keys:{isDev:{val:"0",operator:"==",type:"match"},quizzes:{val:0,operator:"<=",type:"morethan"},views:{val:0,operator:"<=",type:"morethan"},embeds:{val:0,operator:"<=",type:"morethan"},createdAt:{val:"2016-01-01",operator:"<=",type:"dateafter"}}}}},components:{SitePreview:W,SiteTotals:it},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{toggleFilters:function(){this.showFilters=!this.showFilters},fetchData:function(){var t=this;if(0==this.sites.length)return this.loading=!0,console.log("fetching data"),this.$store.dispatch("fetchAllData").then(function(){return t.loading=!1});console.log("already have data"),this.loading=!1}},computed:Object(a["a"])({filteredSites:function(){return this.filter(this.sites,this.filters)}},Object(o["b"])(["error","sites","quizzes","nonDevSites","embeds","server","filter","filterSites"]))},nt=rt,at=(s("Iy/c"),Object(c["a"])(nt,F,T,!1,null,"50965187",null)),ot=at.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("SiteInfo",{key:t.getSite.id,attrs:{site:t.getSite,sortBy:t.getSort}}):t.loading?s("Loader"):t._e()},ut=[],ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"site-info"},[s("h2",{staticClass:"site__title"},[s("a",{attrs:{href:t.site.url}},[t._v(t._s(t.site.url))])]),s("table",[s("thead",[s("th",[t._v("Quiz \n          "),s("span",{staticClass:"order-wrap"},[s("button",{staticClass:"btn--icon up",on:{click:function(e){t.sortPostsBy("quiz","asc")}}},[s("svg",{staticClass:"icon-up"},[s("use",{attrs:{"xlink:href":"#icon-up"}})])]),s("button",{staticClass:"btn--icon down",on:{click:function(e){t.sortPostsBy("quiz","desc")}}},[s("svg",{staticClass:"icon-down"},[s("use",{attrs:{"xlink:href":"#icon-down"}})])])])]),s("th",[t._v("Type \n          "),s("span",{staticClass:"order-wrap"},[s("button",{staticClass:"btn--icon up",on:{click:function(e){t.sortPostsBy("post_type","asc")}}},[s("svg",{staticClass:"icon-up"},[s("use",{attrs:{"xlink:href":"#icon-up"}})])]),s("button",{staticClass:"btn--icon down",on:{click:function(e){t.sortPostsBy("post_type","desc")}}},[s("svg",{staticClass:"icon-down"},[s("use",{attrs:{"xlink:href":"#icon-down"}})])])])]),s("th",[t._v("Clicks \n          "),s("span",{staticClass:"order-wrap"},[s("button",{staticClass:"btn--icon up",on:{click:function(e){t.sortPostsBy("clicks","asc")}}},[s("svg",{staticClass:"icon-up"},[s("use",{attrs:{"xlink:href":"#icon-up"}})])]),s("button",{staticClass:"btn--icon down",on:{click:function(e){t.sortPostsBy("clicks","desc")}}},[s("svg",{staticClass:"icon-down"},[s("use",{attrs:{"xlink:href":"#icon-down"}})])])])])]),s("tbody",t._l(t.site.posts,function(e){return s("tr",{key:e.id},[s("td",[s("a",{attrs:{href:e.quiz_url}},[t._v(t._s(e.quiz))])]),s("td",[t._v(t._s(e.post_type))]),s("td",[t._v(t._s(e.clicks))])])}))])])},dt=[],vt=(s("Vd3H"),{name:"SiteInfo",props:{site:Object,sortBy:Object},created:function(){this.site.posts&&this.sortPosts(this.sortBy.field,this.sortBy.order)},methods:{sortPostsBy:function(t,e){this.sortBy.field===t&&this.sortBy.order===e||this.sortPosts(t,e)},sortPosts:function(t,e){this.site.posts.sort(this.compareValues(t,e)),this.sortBy.field=t,this.sortBy.order=e},compareValues:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(s,i){if(!s.hasOwnProperty(t)||!i.hasOwnProperty(t))return 0;var r="string"===typeof s[t]?s[t].toUpperCase():s[t],n="string"===typeof i[t]?i[t].toUpperCase():i[t],a=0;return r>n?a=1:r<n&&(a=-1),"desc"==e?-1*a:a}}}}),ft=vt,pt=(s("vrcg"),Object(c["a"])(ft,ct,dt,!1,null,"cb844cc0",null)),ht=pt.exports,_t={name:"site",data:function(){return{loading:!0}},components:{SiteInfo:ht,Loader:Q},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){console.log("fetching data")}},computed:Object(a["a"])({getSite:function(){return this.site(this.$route.params.siteID)},getSort:function(){return{field:"clicks",order:"desc"}}},Object(o["b"])(["error","sites","site"]))},mt=_t,yt=Object(c["a"])(mt,lt,ut,!1,null,null,null),gt=(yt.exports,function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("div",{staticClass:"view view--quizzes"},[s("div",{staticClass:"filter"},[s("form",{staticClass:"filters"},[s("div",{staticClass:"top-filters"},[s("label",[t._v("Search Quizzes"),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.search.val,expression:"filters.search.val"}],staticClass:"filter__input",attrs:{type:"text"},domProps:{value:t.filters.search.val},on:{input:function(e){e.target.composing||t.$set(t.filters.search,"val",e.target.value)}}})]),s("span",[s("button",{staticClass:"btn show-filters",on:{click:function(e){return e.preventDefault(),t.toggleFilters(e)}}},[t._v(t._s(t.showFilters?"Hide":"Show")+" Filters")])])]),t.showFilters?s("div",{staticClass:"extra-filters"},[s("label",[t._v("Quiz Status"),s("br"),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.status.val,expression:"filters.keys.status.val"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.status,"val",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("All")]),s("option",{attrs:{value:"published"}},[t._v("Published")]),s("option",{attrs:{value:"draft"}},[t._v("Draft")])])]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.views.val,expression:"filters.keys.views.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.views.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.views,"val",e.target.value)}}}),t._v(" Views\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.questions.val,expression:"filters.keys.questions.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.questions.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.questions,"val",e.target.value)}}}),t._v(" Questions\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.starts.val,expression:"filters.keys.starts.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.starts.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.starts,"val",e.target.value)}}}),t._v(" Starts\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.startPercentage.val,expression:"filters.keys.startPercentage.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.startPercentage.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.startPercentage,"val",e.target.value)}}}),t._v(" Start Percentage\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.finishes.val,expression:"filters.keys.finishes.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.finishes.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.finishes,"val",e.target.value)}}}),t._v(" Finishes\n        ")]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.finishPercentage.val,expression:"filters.keys.finishPercentage.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.finishPercentage.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.finishPercentage,"val",e.target.value)}}}),t._v(" Finish Percentage\n        ")]),s("label",[t._v("Added \n          "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.operator,expression:"filters.keys.createdAt.operator"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.createdAt,"operator",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"<="}},[t._v("After")]),s("option",{attrs:{value:">="}},[t._v("Before")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.val,expression:"filters.keys.createdAt.val"}],staticClass:"filter__input filter__input--date",attrs:{type:"date"},domProps:{value:t.filters.keys.createdAt.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.createdAt,"val",e.target.value)}}})])]):t._e()])]),t.filteredQuizzes.length>0?s("QuizTotals",{attrs:{quizzes:t.filteredQuizzes}}):t._e(),t.filteredQuizzes.length>0?s("QuizPreview",{attrs:{quizzes:t.filteredQuizzes}}):s("section",{staticClass:"no-quizzes"},[t._v('\n    No quizzes found for search "'+t._s(t.filters.search.val)+'" and the selected filters.\n  ')])],1):t.loading?s("Loader"):t._e()}),zt=[],bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"quiz"},[s("h3",[t._v("Quizzes")]),s("p",[t._v(t._s(t.quizzes.length)+" Found")]),s("table",{staticClass:"quizzes__table"},[s("thead",[s("th",[t._v("ID\n        "),s("Sort",{attrs:{sortBy:"ID",type:"quizzes"}})],1),s("th",[t._v("Title\n        "),s("Sort",{attrs:{sortBy:"title",type:"quizzes"}})],1),s("th",[t._v("Status\n        "),s("Sort",{attrs:{sortBy:"status",type:"quizzes"}})],1),s("th",[t._v("Questions\n        "),s("Sort",{attrs:{sortBy:"questions",type:"quizzes"}})],1),s("th",[t._v("Views \n          "),s("Sort",{attrs:{sortBy:"views",type:"quizzes"}})],1),s("th",[t._v("Starts\n        "),s("Sort",{attrs:{sortBy:"starts",type:"quizzes"}})],1),s("th",[t._v("Start %\n        "),s("Sort",{attrs:{sortBy:"startPercentage",type:"quizzes"}})],1),s("th",[t._v("Finishes\n        "),s("Sort",{attrs:{sortBy:"finishes",type:"quizzes"}})],1),s("th",[t._v("Finish %\n          "),s("Sort",{attrs:{sortBy:"finishPercentage",type:"quizzes"}})],1),s("th",[t._v("Date Added\n        "),s("Sort",{attrs:{sortBy:"createdAt",type:"quizzes"}})],1)]),s("tbody",t._l(t.quizzes,function(e){return s("tr",{key:e.id,attrs:{quiz:e}},[s("td",[t._v(t._s(e.ID))]),s("td",[s("a",{staticClass:"quiz__link",attrs:{href:"https://mediaengagement.org/quiz-embed/"+e.ID}},[t._v(t._s(e.title))])]),s("td",[t._v(t._s(e.status))]),s("td",[t._v(t._s(e.questions))]),s("td",[t._v(t._s(e.views))]),s("td",[t._v(t._s(e.starts))]),s("td",[t._v(t._s(e.startPercentage)+"%")]),s("td",[t._v(t._s(e.finishes))]),s("td",[t._v(t._s(e.finishPercentage)+"%")]),s("td",[t._v(t._s(e.createdAt))])])}))])])},qt=[],wt={name:"QuizData",components:{Sort:H},props:{quizzes:Array}},kt=wt,Dt=(s("G4Zl"),Object(c["a"])(kt,bt,qt,!1,null,"d6f8e860",null)),Ct=Dt.exports,St={name:"Quizzes",data:function(){return{loading:Boolean,showFilters:!1,filters:{search:{val:"",keys:["title"]},keys:{status:{val:"published",operator:"==",type:"match"},views:{val:0,operator:"<=",type:"morethan"},starts:{val:0,operator:"<=",type:"morethan"},startPercentage:{val:0,operator:"<=",type:"morethan"},finishes:{val:0,operator:"<=",type:"morethan"},finishPercentage:{val:0,operator:"<=",type:"morethan"},questions:{val:0,operator:"<=",type:"morethan"},createdAt:{val:"2016-01-01",operator:"<=",type:"dateafter"}}}}},components:{QuizPreview:Ct,QuizTotals:w,Loader:Q},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{toggleFilters:function(){this.showFilters=!this.showFilters},fetchData:function(){var t=this;if(0==this.quizzes.length)return this.loading=!0,this.$store.dispatch("fetchQuizzes").then(function(){return t.loading=!1});console.log("already have quiz data"),this.loading=!1}},computed:Object(a["a"])({filteredQuizzes:function(){return this.filter(this.quizzes,this.filters)}},Object(o["b"])(["error","quizzes","filter"]))},xt=St,At=(s("PUMA"),Object(c["a"])(xt,gt,zt,!1,null,"d03d277a",null)),Pt=At.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("QuizInfo",{key:t.getQuiz.id,attrs:{quiz:t.getQuiz,sortBy:t.getSort}}):t.loading?s("Loader"):t._e()},It=[],Qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"quiz-info"},[s("h2",{staticClass:"quiz__name"},[t._v(t._s(t.quiz.name))]),s("table",[s("thead",[s("th",[t._v("URL\n          "),s("span",{staticClass:"order-wrap"},[s("button",{staticClass:"btn--icon up",on:{click:function(e){t.sortQuizzesBy("quiz_url","asc")}}},[s("svg",{staticClass:"icon-up"},[s("use",{attrs:{"xlink:href":"#icon-up"}})])]),s("button",{staticClass:"btn--icon down",on:{click:function(e){t.sortQuizzesBy("quiz_url","desc")}}},[s("svg",{staticClass:"icon-down"},[s("use",{attrs:{"xlink:href":"#icon-down"}})])])])]),s("th",[t._v("Post Type \n          "),s("span",{staticClass:"order-wrap"},[s("button",{staticClass:"btn--icon up",on:{click:function(e){t.sortQuizzesBy("post_type","asc")}}},[s("svg",{staticClass:"icon-up"},[s("use",{attrs:{"xlink:href":"#icon-up"}})])]),s("button",{staticClass:"btn--icon down",on:{click:function(e){t.sortQuizzesBy("post_type","desc")}}},[s("svg",{staticClass:"icon-down"},[s("use",{attrs:{"xlink:href":"#icon-down"}})])])])]),s("th",[t._v("Date \n          "),s("span",{staticClass:"order-wrap"},[s("button",{staticClass:"btn--icon up",on:{click:function(e){t.sortQuizzesBy("date","asc")}}},[s("svg",{staticClass:"icon-up"},[s("use",{attrs:{"xlink:href":"#icon-up"}})])]),s("button",{staticClass:"btn--icon down",on:{click:function(e){t.sortQuizzesBy("date","desc")}}},[s("svg",{staticClass:"icon-down"},[s("use",{attrs:{"xlink:href":"#icon-down"}})])])])])]),s("tbody",t._l(t.quiz.clicks,function(e){return s("tr",[s("td",{staticClass:"td__url"},[s("a",{attrs:{href:e.quiz_url}},[t._v(t._s(e.quiz_url))])]),s("td",[t._v(t._s(e.post_type))]),s("td",[t._v(t._s(e.date))])])}))])])},Ot=[],Et={name:"QuizInfo",props:{quiz:Object,sortBy:Object},created:function(){this.quiz.clicks&&this.sortQuizzes(this.sortBy.field,this.sortBy.order)},methods:{sortQuizzesBy:function(t,e){this.sortBy.field===t&&this.sortBy.order===e||this.sortQuizzes(t,e)},sortQuizzes:function(t,e){this.quiz.clicks.sort(this.compareValues(t,e)),this.sortBy.field=t,this.sortBy.order=e},compareValues:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(s,i){if(!s.hasOwnProperty(t)||!i.hasOwnProperty(t))return 0;var r="string"===typeof s[t]?s[t].toUpperCase():s[t],n="string"===typeof i[t]?i[t].toUpperCase():i[t],a=0;return r>n?a=1:r<n&&(a=-1),"desc"==e?-1*a:a}}}},$t=Et,jt=(s("Fl6i"),Object(c["a"])($t,Qt,Ot,!1,null,"07615370",null)),Ft=jt.exports,Tt={name:"theQuiz",data:function(){return{loading:!0}},components:{QuizInfo:Ft,Loader:Q},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;return this.loading=!0,this.$store.dispatch("fetchQuizClicks",this.$route.params.quizSlug).then(function(){return t.loading=!1})}},computed:Object(a["a"])({getQuiz:function(){return this.quiz(this.$route.params.quizSlug)},getSort:function(){return{field:"date",order:"desc"}}},Object(o["b"])(["error","quizzes","quiz"]))},Nt=Tt,Lt=Object(c["a"])(Nt,Bt,It,!1,null,null,null),Ut=(Lt.exports,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view view--embeds"},[s("div",{staticClass:"filter"},[s("form",{staticClass:"filters"},[s("div",{staticClass:"top-filters"},[s("label",[t._v("Search Embeds"),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.search.val,expression:"filters.search.val"}],staticClass:"filter__input",attrs:{type:"text"},domProps:{value:t.filters.search.val},on:{input:function(e){e.target.composing||t.$set(t.filters.search,"val",e.target.value)}}})]),s("span",[s("button",{staticClass:"btn show-filters",on:{click:function(e){return e.preventDefault(),t.toggleFilters(e)}}},[t._v(t._s(t.showFilters?"Hide":"Show")+" Filters")])])]),t.showFilters?s("div",{staticClass:"extra-filters"},[s("label",[t._v("Dev Embeds"),s("br"),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.isDev.val,expression:"filters.keys.isDev.val"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.isDev,"val",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0"}},[t._v("Exclude Dev Embeds")]),s("option",{attrs:{value:""}},[t._v("Include Dev Embeds")]),s("option",{attrs:{value:"1"}},[t._v("Dev Embeds Only")])])]),s("label",[t._v("At least "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.views.val,expression:"filters.keys.views.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.views.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.views,"val",e.target.value)}}}),t._v(" Views\n        ")]),s("label",[t._v("Quiz ID = "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.quizID.val,expression:"filters.keys.quizID.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.quizID.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.quizID,"val",e.target.value)}}})]),s("label",[t._v("Site ID = "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.siteID.val,expression:"filters.keys.siteID.val"}],staticClass:"filter__input filter__input--tiny",attrs:{type:"number"},domProps:{value:t.filters.keys.siteID.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.siteID,"val",e.target.value)}}})]),s("label",[t._v("Added \n          "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.operator,expression:"filters.keys.createdAt.operator"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.createdAt,"operator",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"<="}},[t._v("After")]),s("option",{attrs:{value:">="}},[t._v("Before")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.createdAt.val,expression:"filters.keys.createdAt.val"}],staticClass:"filter__input filter__input--date",attrs:{type:"date"},domProps:{value:t.filters.keys.createdAt.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.createdAt,"val",e.target.value)}}})]),s("label",[t._v("Updated \n          "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.updatedAt.operator,expression:"filters.keys.updatedAt.operator"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.keys.updatedAt,"operator",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"<="}},[t._v("After")]),s("option",{attrs:{value:">="}},[t._v("Before")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.keys.updatedAt.val,expression:"filters.keys.updatedAt.val"}],staticClass:"filter__input filter__input--date",attrs:{type:"date"},domProps:{value:t.filters.keys.updatedAt.val},on:{input:function(e){e.target.composing||t.$set(t.filters.keys.updatedAt,"val",e.target.value)}}})])]):t._e()])]),t.filteredEmbeds.length>0?s("section",{staticClass:"embeds"},[s("EmbedTotals",{attrs:{embeds:t.filteredEmbeds}}),s("EmbedPreview",{attrs:{embeds:t.filteredEmbeds,loading:t.loading}})],1):s("section",{staticClass:"no-embeds"},[t._v('\n    No embeds found for search "'+t._s(t.filters.search.val)+'" and selected filters.\n  ')])])}),Vt=[],Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.loading?s("div",{staticClass:"embeds"},[s("h3",[t._v("Embeds")]),s("p",[t._v(t._s(t.embeds.length)+" Found")]),s("table",{staticClass:"embeds__table"},[s("thead",[s("th",[t._v("ID\n        "),s("Sort",{attrs:{sortBy:"ID",type:"embeds"}})],1),s("th",[t._v("URL\n        "),s("Sort",{attrs:{sortBy:"url",type:"embeds"}})],1),s("th",[t._v("Views\n        "),s("Sort",{attrs:{sortBy:"views",type:"embeds"}})],1),s("th",[t._v("Site ID\n        "),s("Sort",{attrs:{sortBy:"siteID",type:"embeds"}})],1),s("th",[t._v("Quiz ID\n        "),s("Sort",{attrs:{sortBy:"quizID",type:"embeds"}})],1),s("th",[t._v("Created\n        "),s("Sort",{attrs:{sortBy:"createdAt",type:"embeds"}})],1),s("th",[t._v("Updated\n        "),s("Sort",{attrs:{sortBy:"updatedAt",type:"embeds"}})],1),s("th",[t._v("Is Dev\n        "),s("Sort",{attrs:{sortBy:"isDev",type:"embeds"}})],1)]),s("tbody",t._l(t.embeds,function(e){return s("tr",{key:e.id,attrs:{embed:e}},[s("td",[t._v(t._s(e.ID))]),s("td",[s("a",{staticClass:"embed__link",attrs:{href:e.url}},[t._v(t._s(e.url))])]),s("td",[t._v(t._s(e.views))]),s("td",[t._v(t._s(e.siteID))]),s("td",[t._v(t._s(e.quizID))]),s("td",[t._v(t._s(e.createdAt))]),s("td",[t._v(t._s(e.updatedAt))]),s("td",[t._v(t._s(e.isDev))])])}))])]):t.loading?s("Loader"):t._e()},Jt=[],Zt={name:"EmbedPreview",props:{embeds:Array,loading:Boolean},components:{Loader:Q,Sort:H}},Ht=Zt,Gt=(s("fBfF"),Object(c["a"])(Ht,Mt,Jt,!1,null,"ef408bfe",null)),Kt=Gt.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"embed-totals"},[s("h3",[t._v("Embed Totals")]),s("table",[s("tbody",[s("tr",[s("th",[t._v("Production Embeds")]),s("td",[t._v(t._s(t.nonDevEmbeds.length))])]),t.embeds.length-t.nonDevEmbeds.length?s("tr",[s("th",[t._v("Dev Embeds")]),s("td",[t._v(t._s(t.embeds.length-t.nonDevEmbeds.length))])]):t._e(),s("tr",[s("th",[t._v("Unique Quizzes")]),s("td",[t._v(t._s(t.uniqueQuizTotal))])])])])])},Wt=[],Yt={name:"EmbedTotals",props:{embeds:Array,title:String},methods:{},computed:{nonDevEmbeds:function(){return this.embeds.filter(function(t){return 0==t.isDev})},embedsTotal:function(){for(var t=0,e=0;e<this.embeds.length;e++)t+=this.embeds[e].embeds.length;return t},uniqueQuizTotal:function(){for(var t,e=[],s=0;s<this.embeds.length;s++)t=this.embeds[s].quizID,e.includes(t)||e.push(t);return e.length}}},Xt=Yt,te=(s("rdtp"),Object(c["a"])(Xt,Rt,Wt,!1,null,"29001887",null)),ee=te.exports,se={name:"embeds",data:function(){return{search:"",loading:Boolean,showFilters:!1,filters:{search:{val:"",keys:["url"]},keys:{isDev:{val:"0",operator:"==",type:"match"},quizID:{val:"",operator:"==",type:"match"},siteID:{val:"",operator:"==",type:"match"},views:{val:0,operator:"<=",type:"morethan"},createdAt:{val:"2016-01-01",operator:"<=",type:"dateafter"},updatedAt:{val:"2016-01-01",operator:"<=",type:"dateafter"}}}}},components:{EmbedPreview:Kt,EmbedTotals:ee},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;if(0==this.embeds.length)return this.loading=!0,console.log("fetching data"),this.$store.dispatch("fetchAllData").then(function(){return t.loading=!1});console.log("already have data"),this.loading=!1},toggleFilters:function(){this.showFilters=!this.showFilters}},computed:Object(a["a"])({filteredEmbeds:function(){return this.filter(this.embeds,this.filters)}},Object(o["b"])(["error","embeds","filter","nonDevEmbeds"]))},ie=se,re=(s("6MJO"),Object(c["a"])(ie,Ut,Vt,!1,null,"e77e0002",null)),ne=re.exports;i["a"].use(f["a"]);var ae=new f["a"]({routes:[{path:"/",name:"Home",component:j},{path:"/embeds",name:"Embeds",component:ne},{path:"/quizzes",name:"Quizzes",component:Pt},{path:"/sites",name:"sites",component:ot}]}),oe=(s("L9s1"),s("rGqo"),s("yt8O"),s("OG14"),s("dRSK"),s("vDqi")),le=s.n(oe);i["a"].use(o["a"]);var ue=le.a.create({baseURL:(!1===/(?:localhost:8080|.+\.test)/.test(window.location.host)?"https://mediaengagement.org":"https://quiz.test")+"/wp-json",timeout:1e4}),ce=new o["a"].Store({state:{server:ue,loading:!0,fetching:!1,error:!1,sites:[],quizzes:[],embeds:[]},mutations:{setError:function(t,e){t.error=e},setLoading:function(t,e){t.loading=e},setFetching:function(t,e){t.fetching=e},setEmbeds:function(t,e){console.log("embeds set"),t.embeds=e},setQuizzes:function(t,e){console.log("quizzes set"),t.quizzes=e},setSites:function(t,e){console.log("sites set",e),t.sites=e}},getters:{loading:function(t){return t.loading},fetching:function(t){return t.fetching},error:function(t){return t.error},server:function(t){return t.server},quizzes:function(t){return t.quizzes},quiz:function(t,e){return function(t){return e.quizzes.find(function(e){return e.ID===t})}},quizIndexBy:function(t,e){return function(t,s){return e.indexBy(e.quizzes,t,s)}},publishedQuizzes:function(t,e){return e.quizzes.filter(function(t){return"published"===t.status})},filter:function(t,e){return function(t,s){var i=t;if(0==i.length)return i;for(var r in i=e.search(i,s.search),s.keys)i="length"===s.keys[r].type?e.runLengthFilter(i,r,s.keys[r]):e.runFilter(i,r,s.keys[r]);return i}},runFilter:function(t,e){return function(t,e,s){return""==s.val||null==s.val||void 0==s.val?t:t.filter(function(t){if("=="==s.operator){if(t[e]==s.val)return!0}else if("!="==s.operator){if(t[e]!=s.val)return!0}else if(">="==s.operator){if(s.val>=t[e])return!0}else if("<="==s.operator&&("views"===e&&s.val<=t[e]&&(console.log("views",t[e]),console.log("filter",s.val)),s.val<=t[e]))return!0;return!1})}},runLengthFilter:function(t,e){return function(t,e,s){return""==s.val||null==s.val||void 0==s.val?t:t.filter(function(t){if("=="==s.operator){if(t[e].length==s.val)return!0}else if("!="==s.operator){if(t[e].length!=s.val)return!0}else if(">="==s.operator){if(s.val>=t[e].length)return!0}else if("<="==s.operator&&s.val<=t[e].length)return!0;return!1})}},search:function(t,e){return function(t,e){var s=t;if(""==e.val)return s;for(var i=function(i){s=t.filter(function(t){if(t[e.keys[i]].toUpperCase().includes(e.val.toUpperCase()))return!0})},r=0;r<e.keys.length;r++)i(r);return s}},filterQuizzes:function(t,e){return function(t){return""==t?e.quizzes:e.quizzes.filter(function(e){return!!e.title.toUpperCase().includes(t.toUpperCase())||(!!e.ID.toUpperCase().includes(t.toUpperCase())||void 0)})}},quizTotal:function(t,e){return function(t){for(var s=0,i=0;i<e.quizzes.length;i++)s+=e.quizzes[i][t];return s}},quizPercentage:function(t,e){return function(t){return+(e.quizTotal(t)/e.quizTotal("views")*100).toFixed(2)}},sites:function(t){return t.sites},site:function(t,e){return function(t){return e.sites.find(function(e){return e.ID===t})}},siteIndexBy:function(t,e){return function(t,s){return e.indexBy(e.sites,t,s)}},nonDevSites:function(t,e){return e.sites.filter(function(t){return t.isDev.includes("0")})},embeds:function(t){return t.embeds},indexBy:function(){return function(t,e,s){for(var i=0;i<t.length;i++)if(t[i][e]==s)return i}}},actions:{error:function(t,e){t.commit("setError",e)},loading:function(t,e){t.commit("setLoading",e)},fetching:function(t,e){t.commit("setFetching",e)},sitePosts:function(t,e){t.commit("setSitePosts",e)},fetchAllData:function(t){return t.dispatch("fetchSites").then(function(){return t.dispatch("fetchQuizzes")}).then(function(){return t.dispatch("fetchEmbeds")})},fetchEmbeds:function(t){return console.log("fetching embeds"),t.dispatch("fetching",!0),t.getters.server("/enp-quiz/v1/embeds").then(function(e){console.log("fetched embeds");for(var s,i=e.data,r=[],n=t.getters.sites,a=0;a<i.length;a++)r[a]={ID:parseInt(i[a].embed_quiz_id),quizID:parseInt(i[a].quiz_id),siteID:parseInt(i[a].embed_site_id),url:i[a].embed_quiz_url,views:parseInt(i[a].embed_quiz_loads),createdAt:i[a].embed_quiz_created_at,updatedAt:i[a].embed_quiz_updated_at,isDev:i[a].embed_quiz_is_dev},s=t.getters.siteIndexBy("ID",r[a].siteID),n[s].quizIDs.includes(r[a].quizID)||n[s].quizIDs.push(r[a].quizID),n[s].views+=r[a].views,n[s].quizzes=n[s].quizIDs.length;t.commit("setEmbeds",r),t.commit("setSites",n)}).catch(function(e){console.error(e),t.dispatch("error",!0)}).finally(function(){t.dispatch("fetching",!1)})},fetchQuizzes:function(t){return console.log("fetching quizzes"),t.dispatch("fetching",!0),t.getters.server("/enp-quiz/v1/quizzes").then(function(e){console.log("fetched quizzes");for(var s=e.data,i=[],r=0;r<s.length;r++)i[r]={ID:parseInt(s[r].quiz_id),title:s[r].quiz_title,status:s[r].quiz_status,owner:s[r].quiz_owner,questionIDs:s[r].questions,questions:s[r].questions.length,views:parseInt(s[r].quiz_views),starts:parseInt(s[r].quiz_starts),startPercentage:0!=parseInt(s[r].quiz_starts)?+(s[r].quiz_starts/s[r].quiz_views*100).toFixed(2):0,finishes:parseInt(s[r].quiz_finishes),finishPercentage:0!=parseInt(s[r].quiz_finishes)?+(s[r].quiz_finishes/s[r].quiz_views*100).toFixed(2):0,average:s[r].quiz_score_average,createdAt:s[r].quiz_created_at,scores:void 0};t.commit("setQuizzes",i)}).catch(function(e){console.error(e),t.dispatch("error",!0)}).finally(function(){t.dispatch("fetching",!1)})},fetchSites:function(t){return console.log("fetching sites"),t.dispatch("fetching",!0),t.getters.server("/enp-quiz/v1/sites").then(function(e){console.log("fetched sites");for(var s=e.data,i=[],r=0;r<s.length;r++)i[r]={ID:parseInt(s[r].embed_site_id),name:s[r].embed_site_name,url:s[r].embed_site_url,owner:s[r].embed_site_type_ids,embedIDs:s[r].embed_site_quiz_ids,embeds:s[r].embed_site_quiz_ids.length,quizIDs:[],quizzes:0,views:0,createdAt:s[r].embed_site_created_at,updatedAt:s[r].embed_site_updated_at,isDev:s[r].embed_site_is_dev};t.commit("setSites",i)}).catch(function(e){console.error(e),t.dispatch("error",!0)}).finally(function(){t.dispatch("fetching",!1)})},sort:function(t,e){var s,i=t.getters[e.type],r=e.order,n=e.sortBy;i=i.sort(function(t,e){if(!t.hasOwnProperty(n)||!e.hasOwnProperty(n))return 0;var s="string"===typeof t[n]?t[n].toUpperCase():t[n],i="string"===typeof e[n]?e[n].toUpperCase():e[n],a=0;return s>i?a=1:s<i&&(a=-1),"desc"==r?-1*a:a}),s="set"+e.type.charAt(0).toUpperCase()+e.type.substr(1),t.commit(s,i)},compareValues:function(t,e){}}});i["a"].config.productionTip=!1,new i["a"]({router:ae,store:ce,render:function(t){return t(v)}}).$mount("#app")},WqaT:function(t,e,s){},fBfF:function(t,e,s){"use strict";var i=s("N2QY"),r=s.n(i);r.a},gWBB:function(t,e,s){},gpZ9:function(t,e,s){"use strict";var i=s("iY6F"),r=s.n(i);r.a},iY6F:function(t,e,s){},mVIq:function(t,e,s){},nCir:function(t,e,s){"use strict";var i=s("WqaT"),r=s.n(i);r.a},nNx0:function(t,e,s){"use strict";var i=s("gWBB"),r=s.n(i);r.a},pJpI:function(t,e,s){},qIjp:function(t,e,s){},rabe:function(t,e,s){"use strict";var i=s("Exvd"),r=s.n(i);r.a},rdtp:function(t,e,s){"use strict";var i=s("+PJ+"),r=s.n(i);r.a},vrcg:function(t,e,s){"use strict";var i=s("pJpI"),r=s.n(i);r.a},x5vo:function(t,e,s){},yG9i:function(t,e,s){}});
//# sourceMappingURL=app.9a57a7d1.js.map